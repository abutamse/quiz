<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GroÃŸe Quiz App</title>
<style>
body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin:0; padding:0; background: linear-gradient(to bottom,#6a11cb,#2575fc); display:flex; justify-content:center; align-items:center; min-height:100vh; }
.container { background:white; padding:20px; border-radius:20px; box-shadow:0 10px 25px rgba(0,0,0,0.3); width:95%; max-width:600px; transition: all 0.3s ease; }
h2,h3 { text-align:center; margin:10px 0; color:#333; }
input { width:100%; padding:12px; margin:5px 0; border-radius:10px; border:1px solid #ccc; font-size:16px; box-sizing:border-box; }
button { width:100%; padding:12px; margin-top:10px; border:none; border-radius:10px; background:#4CAF50; color:white; font-weight:bold; cursor:pointer; font-size:16px; transition: all 0.2s ease; }
button:hover { background:#45a049; transform:scale(1.02); }
.hidden { display:none; }
.theme-block, .subtheme-block, .answer-btn { padding:18px; background:#e2e8f0; margin:10px 0; border-radius:15px; cursor:pointer; text-align:center; font-weight:bold; font-size:18px; transition: all 0.2s ease; }
.theme-block:hover, .subtheme-block:hover, .answer-btn:hover { background:#d1d5db; transform:scale(1.02); }
.flex { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.lang-btn { width:auto; padding:5px 10px; margin:0 5px; font-size:14px; background:#007BFF; color:white; border-radius:5px; cursor:pointer; }
.lang-btn:hover { background:#0056b3; transform:scale(1.05); }
.coin-display { font-weight:bold; background:#ffecb3; padding:5px 10px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.2); }
.progress-bar { width:100%; background:#ddd; border-radius:10px; overflow:hidden; margin-bottom:15px; height:20px; }
.progress-fill { height:100%; background:#4caf50; width:0%; transition: width 0.3s; }
</style>
</head>
<body>

<div class="container" id="login-container">
    <h2 id="title">Login / Registrierung</h2>
    <input type="text" id="username" placeholder="Benutzername">
    <input type="password" id="password" placeholder="Passwort">
    <button id="login-btn">Login</button>
    <button id="register-btn">Registrieren</button>
    <p id="login-msg" style="color:red; text-align:center;"></p>
</div>

<div class="container hidden" id="theme-container">
    <div class="flex">
        <h2 id="theme-title">Themen auswÃ¤hlen</h2>
        <div class="coin-display">Coins: <span id="coins">0</span>ðŸ’°</div>
    </div>
    <div id="lang-switch">
        <button class="lang-btn" data-lang="de">DE</button>
        <button class="lang-btn" data-lang="en">EN</button>
        <button class="lang-btn" data-lang="ar">AR</button>
    </div>
    <div id="themes"></div>
    <button id="logout-btn" style="background:#f44336;">Logout</button>
</div>

<div class="container hidden" id="quiz-container">
    <div class="flex">
        <h2 id="quiz-topic"></h2>
        <div class="coin-display">Coins: <span id="quiz-coins">0</span>ðŸ’°</div>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
    <div id="quiz-content"></div>
    <button id="quiz-back-btn" style="background:#f44336;">ZurÃ¼ck</button>
</div>

<script>
document.addEventListener('DOMContentLoaded',()=>{

let currentLang='de', currentUser=localStorage.getItem('currentUser');
let currentTopic='', currentSubtopic='', currentQuizIndex=0;

const loginContainer=document.getElementById('login-container');
const themeContainer=document.getElementById('theme-container');
const quizContainer=document.getElementById('quiz-container');
const loginMsg=document.getElementById('login-msg');
const usernameInput=document.getElementById('username');
const passwordInput=document.getElementById('password');
const loginBtn=document.getElementById('login-btn');
const registerBtn=document.getElementById('register-btn');
const logoutBtn=document.getElementById('logout-btn');
const themesDiv=document.getElementById('themes');
const coinsSpan=document.getElementById('coins');
const langButtons=document.querySelectorAll('.lang-btn');
const title=document.getElementById('title');
const themeTitle=document.getElementById('theme-title');
const quizTopic=document.getElementById('quiz-topic');
const quizCoins=document.getElementById('quiz-coins');
const quizContent=document.getElementById('quiz-content');
const progressFill=document.getElementById('progress-fill');
const quizBackBtn=document.getElementById('quiz-back-btn');

// ===== Themen & Fragen =====
const topics = {
    "Geschichte":{"Deutschland":[
        {q:{de:"Wann begann der 2. Weltkrieg?",en:"When did WWII start?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£ Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ"},options:["1939","1945","1914","1923"],answer:"1939"},
        {q:{de:"Wer war der erste Bundeskanzler?",en:"Who was the first chancellor?",ar:"Ù…Ù† ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ø£ÙˆÙ„ØŸ"},options:["Konrad Adenauer","Helmut Kohl","Angela Merkel","Willy Brandt"],answer:"Konrad Adenauer"},
        {q:{de:"Wann wurde die Berliner Mauer gebaut?",en:"When was the Berlin Wall built?",ar:"Ù…ØªÙ‰ Ø¨Ù†ÙŠØª Ø¬Ø¯Ø§Ø± Ø¨Ø±Ù„ÙŠÙ†ØŸ"},options:["1961","1949","1989","1953"],answer:"1961"},
        {q:{de:"Wann fiel die Mauer?",en:"When did the wall fall?",ar:"Ù…ØªÙ‰ Ø³Ù‚Ø· Ø§Ù„Ø¬Ø¯Ø§Ø±ØŸ"},options:["1989","1990","1980","1975"],answer:"1989"},
        {q:{de:"Wer war Kaiser im 19. Jahrhundert?",en:"Who was emperor in 19th century?",ar:"Ù…Ù† ÙƒØ§Ù† Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± ÙÙŠ Ø§Ù„Ù‚Ø±Ù† Ø§Ù„ØªØ§Ø³Ø¹ Ø¹Ø´Ø±ØŸ"},options:["Wilhelm I","Friedrich II","Napoleon","Otto"],answer:"Wilhelm I"},
        {q:{de:"Was war die Weimarer Republik?",en:"What was the Weimar Republic?",ar:"Ù…Ø§ Ù‡ÙŠ Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© ÙØ§ÙŠÙ…Ø§Ø±ØŸ"},options:["Republik","KÃ¶nigreich","Diktatur","FÃ¼rstentum"],answer:"Republik"},
        {q:{de:"Wann endete der 1. Weltkrieg?",en:"When did WWI end?",ar:"Ù…ØªÙ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŸ"},options:["1918","1914","1939","1920"],answer:"1918"},
        {q:{de:"Wer schrieb 'Mein Kampf'?",en:"Who wrote 'Mein Kampf'?",ar:"Ù…Ù† ÙƒØªØ¨ ÙƒØªØ§Ø¨ 'ÙƒÙØ§Ø­ÙŠ'ØŸ"},options:["Adolf Hitler","Goebbels","Bismarck","Hesse"],answer:"Adolf Hitler"},
        {q:{de:"Wann begann die NS-Zeit?",en:"When did the Nazi era begin?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£Øª Ø§Ù„Ø­Ù‚Ø¨Ø© Ø§Ù„Ù†Ø§Ø²ÙŠØ©ØŸ"},options:["1933","1920","1945","1919"],answer:"1933"},
        {q:{de:"Wer war der letzte Kaiser Deutschlands?",en:"Who was the last German emperor?",ar:"Ù…Ù† ÙƒØ§Ù† Ø¢Ø®Ø± Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± Ø£Ù„Ù…Ø§Ù†ÙŠØŸ"},options:["Wilhelm II","Wilhelm I","Friedrich III","Otto"],answer:"Wilhelm II"}
    ]},
    "Wissenschaft":{"Physik":[
        {q:{de:"Wer entwickelte die RelativitÃ¤tstheorie?",en:"Who developed relativity?",ar:"Ù…Ù† Ø·ÙˆØ± Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ©ØŸ"},options:["Einstein","Newton","Tesla","Galileo"],answer:"Einstein"},
        {q:{de:"Was beschreibt E=mcÂ²?",en:"What does E=mcÂ² describe?",ar:"Ù…Ø§Ø°Ø§ ØªØµÙ E=mcÂ²ØŸ"},options:["Masse-Energie","Kraft","Geschwindigkeit","Temperatur"],answer:"Masse-Energie"},
        {q:{de:"Wer entdeckte die Gravitation?",en:"Who discovered gravity?",ar:"Ù…Ù† Ø§ÙƒØªØ´Ù Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©ØŸ"},options:["Newton","Einstein","Galileo","Tesla"],answer:"Newton"},
        {q:{de:"Was ist Lichtgeschwindigkeit?",en:"What is light speed?",ar:"Ù…Ø§ Ù‡ÙŠ Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ÙˆØ¡ØŸ"},options:["299792458 m/s","150000000 m/s","300000 km/s","500000 m/s"],answer:"299792458 m/s"},
        {q:{de:"Was ist ein Photon?",en:"What is a photon?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙÙˆØªÙˆÙ†ØŸ"},options:["Teilchen des Lichts","Atom","MolekÃ¼l","Elektron"],answer:"Teilchen des Lichts"},
        {q:{de:"Was ist Quantenmechanik?",en:"What is quantum mechanics?",ar:"Ù…Ø§ Ù‡ÙŠ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ Ø§Ù„ÙƒÙ…ØŸ"},options:["Physik der kleinen Teilchen","Chemie","Biologie","Astronomie"],answer:"Physik der kleinen Teilchen"},
        {q:{de:"Wer entdeckte Elektronen?",en:"Who discovered electrons?",ar:"Ù…Ù† Ø§ÙƒØªØ´Ù Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†Ø§ØªØŸ"},options:["Thomson","Einstein","Newton","Faraday"],answer:"Thomson"},
        {q:{de:"Was beschreibt Ohmsches Gesetz?",en:"What describes Ohm's law?",ar:"Ù…Ø§Ø°Ø§ ÙŠØµÙ Ù‚Ø§Ù†ÙˆÙ† Ø£ÙˆÙ…ØŸ"},options:["Spannung-Strom-Widerstand","Kraft","Energie","Masse"],answer:"Spannung-Strom-Widerstand"},
        {q:{de:"Wer ist bekannt fÃ¼r die Gesetze der Bewegung?",en:"Known for laws of motion?",ar:"Ù…Ù† Ù…Ø¹Ø±ÙˆÙ Ø¨Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø­Ø±ÙƒØ©ØŸ"},options:["Newton","Einstein","Galileo","Tesla"],answer:"Newton"},
        {q:{de:"Was ist Kernfusion?",en:"What is nuclear fusion?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ù†ØµÙ‡Ø§Ø± Ø§Ù„Ù†ÙˆÙˆÙŠØŸ"},options:["Verschmelzen von Atomkernen","Spaltung von Atomen","Chemische Reaktion","Elektrische Energie"],answer:"Verschmelzen von Atomkernen"}
    ]},
    "Geschichte": {
    "Deutschland": [
      {q:{de:"Wann begann der 2. Weltkrieg?",en:"When did WWII start?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£ Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ"}, options:["1939","1945","1914","1923"], answer:"1939"},
      {q:{de:"Wer war der erste Bundeskanzler?",en:"Who was the first chancellor?",ar:"Ù…Ù† ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ø£ÙˆÙ„ØŸ"}, options:["Konrad Adenauer","Helmut Kohl","Angela Merkel","Willy Brandt"], answer:"Konrad Adenauer"},
      {q:{de:"Wann wurde die Berliner Mauer gebaut?",en:"When was the Berlin Wall built?",ar:"Ù…ØªÙ‰ Ø¨Ù†ÙŠØª Ø¬Ø¯Ø§Ø± Ø¨Ø±Ù„ÙŠÙ†ØŸ"}, options:["1961","1949","1989","1953"], answer:"1961"},
      {q:{de:"Wann fiel die Mauer?",en:"When did the wall fall?",ar:"Ù…ØªÙ‰ Ø³Ù‚Ø· Ø§Ù„Ø¬Ø¯Ø§Ø±ØŸ"}, options:["1989","1990","1980","1975"], answer:"1989"},
      {q:{de:"Wer war Kaiser im 19. Jahrhundert?",en:"Who was emperor in 19th century?",ar:"Ù…Ù† ÙƒØ§Ù† Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± ÙÙŠ Ø§Ù„Ù‚Ø±Ù† Ø§Ù„ØªØ§Ø³Ø¹ Ø¹Ø´Ø±ØŸ"}, options:["Wilhelm I","Friedrich II","Napoleon","Otto"], answer:"Wilhelm I"},
      {q:{de:"Was war die Weimarer Republik?",en:"What was the Weimar Republic?",ar:"Ù…Ø§ Ù‡ÙŠ Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© ÙØ§ÙŠÙ…Ø§Ø±ØŸ"}, options:["Republik","KÃ¶nigreich","Diktatur","FÃ¼rstentum"], answer:"Republik"},
      {q:{de:"Wann endete der 1. Weltkrieg?",en:"When did WWI end?",ar:"Ù…ØªÙ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŸ"}, options:["1918","1914","1939","1920"], answer:"1918"},
      {q:{de:"Wer schrieb 'Mein Kampf'?",en:"Who wrote 'Mein Kampf'?",ar:"Ù…Ù† ÙƒØªØ¨ ÙƒØªØ§Ø¨ 'ÙƒÙØ§Ø­ÙŠ'ØŸ"}, options:["Adolf Hitler","Goebbels","Bismarck","Hesse"], answer:"Adolf Hitler"},
      {q:{de:"Wann begann die NS-Zeit?",en:"When did the Nazi era begin?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£Øª Ø§Ù„Ø­Ù‚Ø¨Ø© Ø§Ù„Ù†Ø§Ø²ÙŠØ©ØŸ"}, options:["1933","1920","1945","1919"], answer:"1933"},
      {q:{de:"Wer war der letzte Kaiser Deutschlands?",en:"Who was the last German emperor?",ar:"Ù…Ù† ÙƒØ§Ù† Ø¢Ø®Ø± Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± Ø£Ù„Ù…Ø§Ù†ÙŠØŸ"}, options:["Wilhelm II","Wilhelm I","Friedrich III","Otto"], answer:"Wilhelm II"}
    ],
    "Europa": [
      {q:{de:"Wann begann der 1. Weltkrieg?",en:"When did WWI start?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£ Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŸ"}, options:["1914","1939","1920","1905"], answer:"1914"},
      {q:{de:"Wer war Napoleon?",en:"Who was Napoleon?",ar:"Ù…Ù† ÙƒØ§Ù† Ù†Ø§Ø¨Ù„ÙŠÙˆÙ†ØŸ"}, options:["FranzÃ¶sischer Kaiser","Deutscher Kaiser","RÃ¶mischer Kaiser","Britischer KÃ¶nig"], answer:"FranzÃ¶sischer Kaiser"},
      {q:{de:"Wann fiel das RÃ¶mische Reich?",en:"When did the Roman Empire fall?",ar:"Ù…ØªÙ‰ Ø³Ù‚Ø· Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„Ø±ÙˆÙ…Ø§Ù†ÙŠØ©ØŸ"}, options:["476","500","400","450"], answer:"476"},
      {q:{de:"Wer war Ludwig XIV?",en:"Who was Louis XIV?",ar:"Ù…Ù† ÙƒØ§Ù† Ù„ÙˆÙŠØ³ Ø§Ù„Ø±Ø§Ø¨Ø¹ Ø¹Ø´Ø±ØŸ"}, options:["FranzÃ¶sischer KÃ¶nig","Spanischer KÃ¶nig","Deutscher Kaiser","Englischer KÃ¶nig"], answer:"FranzÃ¶sischer KÃ¶nig"},
      {q:{de:"Wann wurde die EU gegrÃ¼ndet?",en:"When was the EU founded?",ar:"Ù…ØªÙ‰ ØªØ£Ø³Ø³Øª Ø§Ù„Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠØŸ"}, options:["1993","1950","1989","2000"], answer:"1993"},
      {q:{de:"Wer war Winston Churchill?",en:"Who was Winston Churchill?",ar:"Ù…Ù† ÙƒØ§Ù† ÙˆÙ†Ø³ØªÙˆÙ† ØªØ´Ø±Ø´Ù„ØŸ"}, options:["Britischer Premierminister","FranzÃ¶sischer PrÃ¤sident","Deutscher Kanzler","US-PrÃ¤sident"], answer:"Britischer Premierminister"},
      {q:{de:"Wann begann die FranzÃ¶sische Revolution?",en:"When did the French Revolution start?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£Øª Ø§Ù„Ø«ÙˆØ±Ø© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©ØŸ"}, options:["1789","1800","1750","1799"], answer:"1789"},
      {q:{de:"Wer war Karl der GroÃŸe?",en:"Who was Charlemagne?",ar:"Ù…Ù† ÙƒØ§Ù† Ø´Ø§Ø±Ù„Ù…Ø§Ù†ØŸ"}, options:["KÃ¶nig des Frankenreichs","RÃ¶mischer Kaiser","Kaiser von Deutschland","Englischer KÃ¶nig"], answer:"KÃ¶nig des Frankenreichs"},
      {q:{de:"Wann fiel die Berliner Mauer?",en:"When did the Berlin Wall fall?",ar:"Ù…ØªÙ‰ Ø³Ù‚Ø· Ø¬Ø¯Ø§Ø± Ø¨Ø±Ù„ÙŠÙ†ØŸ"}, options:["1989","1991","1980","1975"], answer:"1989"},
      {q:{de:"Wer war Otto von Bismarck?",en:"Who was Otto von Bismarck?",ar:"Ù…Ù† ÙƒØ§Ù† Ø£ÙˆØªÙˆ ÙÙˆÙ† Ø¨ÙŠØ³Ù…Ø§Ø±ÙƒØŸ"}, options:["Erster Kanzler des Deutschen Reiches","Kaiser von Deutschland","PrÃ¤sident von Ã–sterreich","KÃ¶nig von PreuÃŸen"], answer:"Erster Kanzler des Deutschen Reiches"}
    ]
  },

  "Wissenschaft": {
    "Physik":[
      {q:{de:"Wer entwickelte die RelativitÃ¤tstheorie?",en:"Who developed relativity?",ar:"Ù…Ù† Ø·ÙˆØ± Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ©ØŸ"}, options:["Einstein","Newton","Tesla","Galileo"], answer:"Einstein"},
      {q:{de:"Was beschreibt E=mcÂ²?",en:"What does E=mcÂ² describe?",ar:"Ù…Ø§Ø°Ø§ ØªØµÙ E=mcÂ²ØŸ"}, options:["Masse-Energie","Kraft","Geschwindigkeit","Temperatur"], answer:"Masse-Energie"},
      {q:{de:"Wer entdeckte die Gravitation?",en:"Who discovered gravity?",ar:"Ù…Ù† Ø§ÙƒØªØ´Ù Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©ØŸ"}, options:["Newton","Einstein","Galileo","Tesla"], answer:"Newton"},
      {q:{de:"Was ist Lichtgeschwindigkeit?",en:"What is light speed?",ar:"Ù…Ø§ Ù‡ÙŠ Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ÙˆØ¡ØŸ"}, options:["299792458 m/s","150000000 m/s","300000 km/s","500000 m/s"], answer:"299792458 m/s"},
      {q:{de:"Was ist ein Photon?",en:"What is a photon?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙÙˆØªÙˆÙ†ØŸ"}, options:["Teilchen des Lichts","Atom","MolekÃ¼l","Elektron"], answer:"Teilchen des Lichts"},
      {q:{de:"Was ist Quantenmechanik?",en:"What is quantum mechanics?",ar:"Ù…Ø§ Ù‡ÙŠ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ Ø§Ù„ÙƒÙ…ØŸ"}, options:["Physik der kleinen Teilchen","Chemie","Biologie","Astronomie"], answer:"Physik der kleinen Teilchen"},
      {q:{de:"Wer entdeckte Elektronen?",en:"Who discovered electrons?",ar:"Ù…Ù† Ø§ÙƒØªØ´Ù Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†Ø§ØªØŸ"}, options:["Thomson","Einstein","Newton","Faraday"], answer:"Thomson"},
      {q:{de:"Was beschreibt Ohmsches Gesetz?",en:"What describes Ohm's law?",ar:"Ù…Ø§Ø°Ø§ ÙŠØµÙ Ù‚Ø§Ù†ÙˆÙ† Ø£ÙˆÙ…ØŸ"}, options:["Spannung-Strom-Widerstand","Kraft","Energie","Masse"], answer:"Spannung-Strom-Widerstand"},
      {q:{de:"Wer ist bekannt fÃ¼r die Gesetze der Bewegung?",en:"Known for laws of motion?",ar:"Ù…Ù† Ù…Ø¹Ø±ÙˆÙ Ø¨Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø­Ø±ÙƒØ©ØŸ"}, options:["Newton","Einstein","Galileo","Tesla"], answer:"Newton"},
      {q:{de:"Was ist Kernfusion?",en:"What is nuclear fusion?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ù†ØµÙ‡Ø§Ø± Ø§Ù„Ù†ÙˆÙˆÙŠØŸ"}, options:["Verschmelzen von Atomkernen","Spaltung von Atomen","Chemische Reaktion","Elektrische Energie"], answer:"Verschmelzen von Atomkernen"}
    ],
    "Biologie":[
      {q:{de:"Wie viele Chromosomen hat der Mensch?",en:"How many chromosomes does a human have?",ar:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØ±ÙˆÙ…ÙˆØ³ÙˆÙ…Ø§Øª Ù„Ø¯Ù‰ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ"}, options:["46","44","48","42"], answer:"46"},
      {q:{de:"Was ist das grÃ¶ÃŸte Organ?",en:"What is the largest organ?",ar:"Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ø¹Ø¶ÙˆØŸ"}, options:["Haut","Leber","Herz","Gehirn"], answer:"Haut"},
      {q:{de:"Wie viele Herzen hat ein Mensch?",en:"How many hearts does a human have?",ar:"ÙƒÙ… Ù‚Ù„Ø¨ Ù„Ø¯Ù‰ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ"}, options:["1","2","3","4"], answer:"1"},
      {q:{de:"Was transportiert Blut?",en:"What carries blood?",ar:"Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙ†Ù‚Ù„ Ø§Ù„Ø¯Ù…ØŸ"}, options:["BlutgefÃ¤ÃŸe","Nerven","Muskeln","Lunge"], answer:"BlutgefÃ¤ÃŸe"},
      {q:{de:"Wie viele Sinne hat der Mensch?",en:"How many senses does a human have?",ar:"ÙƒÙ… Ø­Ø§Ø³Ø© Ù„Ø¯Ù‰ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ"}, options:["5","4","6","7"], answer:"5"},
      {q:{de:"Was produziert Insulin?",en:"What produces insulin?",ar:"Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙ†ØªØ¬ Ø§Ù„Ø¥Ù†Ø³ÙˆÙ„ÙŠÙ†ØŸ"}, options:["BauchspeicheldrÃ¼se","Leber","Niere","Lunge"], answer:"BauchspeicheldrÃ¼se"},
      {q:{de:"Was schÃ¼tzt die Augen?",en:"What protects the eyes?",ar:"Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­Ù…ÙŠ Ø§Ù„Ø¹ÙŠÙˆÙ†ØŸ"}, options:["Augenlider","ZÃ¤hne","Ohren","HÃ¤nde"], answer:"Augenlider"},
      {q:{de:"Wie viele Blutgruppen gibt es?",en:"How many blood groups?",ar:"ÙƒÙ… Ø¹Ø¯Ø¯ ÙØµØ§Ø¦Ù„ Ø§Ù„Ø¯Ù…ØŸ"}, options:["4","3","5","2"], answer:"4"},
      {q:{de:"Welches Organ pumpt Blut?",en:"Which organ pumps blood?",ar:"Ø£ÙŠ Ø¹Ø¶Ùˆ ÙŠØ¶Ø® Ø§Ù„Ø¯Ù…ØŸ"}, options:["Herz","Lunge","Leber","Niere"], answer:"Herz"},
      {q:{de:"Was ist die kleinste Zelle im menschlichen KÃ¶rper?",en:"What is the smallest cell?",ar:"Ù…Ø§ Ù‡ÙŠ Ø£ØµØºØ± Ø®Ù„ÙŠØ© ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ"}, options:["Spermium","Eizelle","Neuron","Muskelzelle"], answer:"Spermium"}
    ]
  },

  "Mathematik": {
    "Grundlagen":[
      {q:{de:"Was ist 7+5?",en:"What is 7+5?",ar:"Ù…Ø§ Ù‡Ùˆ 7+5ØŸ"}, options:["12","11","13","10"], answer:"12"},
      {q:{de:"Was ist 9*8?",en:"What is 9*8?",ar:"Ù…Ø§ Ù‡Ùˆ 9*8ØŸ"}, options:["72","81","64","70"], answer:"72"},
      {q:{de:"Was ist die Quadratwurzel von 64?",en:"What is the square root of 64?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠ Ù„Ù€64ØŸ"}, options:["8","6","7","9"], answer:"8"},
      {q:{de:"Was ist 15-7?",en:"What is 15-7?",ar:"Ù…Ø§ Ù‡Ùˆ 15-7ØŸ"}, options:["8","7","9","10"], answer:"8"},
      {q:{de:"Was ist 100/25?",en:"What is 100/25?",ar:"Ù…Ø§ Ù‡Ùˆ 100/25ØŸ"}, options:["4","5","3","6"], answer:"4"},
      {q:{de:"Was ist 2Â²?",en:"What is 2 squared?",ar:"Ù…Ø§ Ù‡Ùˆ 2Â²ØŸ"}, options:["4","2","6","8"], answer:"4"},
      {q:{de:"Was ist 3Â³?",en:"What is 3 cubed?",ar:"Ù…Ø§ Ù‡Ùˆ 3Â³ØŸ"}, options:["27","9","6","30"], answer:"27"},
      {q:{de:"Was ist 0*5?",en:"What is 0*5?",ar:"Ù…Ø§ Ù‡Ùˆ 0*5ØŸ"}, options:["0","5","1","10"], answer:"0"},
      {q:{de:"Was ist 50+25?",en:"What is 50+25?",ar:"Ù…Ø§ Ù‡Ùˆ 50+25ØŸ"}, options:["75","70","65","80"], answer:"75"},
      {q:{de:"Was ist 20-15?",en:"What is 20-15?",ar:"Ù…Ø§ Ù‡Ùˆ 20-15ØŸ"}, options:["5","10","4","6"], answer:"5"}
    ]
    // Du kannst auf diese Weise weitere Themen und Unterthemen mit 10 Fragen erstellen
}

// ===== Hilfsfunktionen =====
function getUser(u){ return JSON.parse(localStorage.getItem('user_'+u)); }
function saveUser(u,d){ localStorage.setItem('user_'+u,JSON.stringify(d)); }

langButtons.forEach(btn=>{
    btn.addEventListener('click',()=>{
        currentLang=btn.dataset.lang;
        renderUI();
        if(!themeContainer.classList.contains('hidden')) showThemes();
    });
});

function renderUI(){
    if(currentLang==='de'){title.textContent='Login / Registrierung';loginBtn.textContent='Login';registerBtn.textContent='Registrieren';logoutBtn.textContent='Logout';themeTitle.textContent='Themen auswÃ¤hlen';quizBackBtn.textContent='ZurÃ¼ck';}
    else if(currentLang==='en'){title.textContent='Login / Register';loginBtn.textContent='Login';registerBtn.textContent='Register';logoutBtn.textContent='Logout';themeTitle.textContent='Select Topics';quizBackBtn.textContent='Back';}
    else if(currentLang==='ar'){title.textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø§Ù„ØªØ³Ø¬ÙŠÙ„';loginBtn.textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';registerBtn.textContent='ØªØ³Ø¬ÙŠÙ„';logoutBtn.textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬';themeTitle.textContent='Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹';quizBackBtn.textContent='Ø¹ÙˆØ¯Ø©';}
}

// ===== Registrierung =====
registerBtn.addEventListener('click',()=>{
    const u=usernameInput.value.trim(); 
    const p=passwordInput.value.trim();
    if(!u || !p){ loginMsg.textContent=currentLang==='de'?'Bitte ausfÃ¼llen!':currentLang==='en'?'Please fill in!':'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'; return; }
    if(getUser(u)){ loginMsg.textContent=currentLang==='de'?'Benutzer existiert schon!':currentLang==='en'?'User already exists!':'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„'; return; }
    saveUser(u,{password:p,coins:0,progress:{}}); localStorage.setItem('currentUser',u); currentUser=u; loginMsg.textContent=''; showThemes();
});

// ===== Login =====
loginBtn.addEventListener('click',()=>{
    const u=usernameInput.value.trim(); 
    const p=passwordInput.value.trim(); 
    const d=getUser(u);
    if(!d){ loginMsg.textContent=currentLang==='de'?'Benutzer nicht gefunden!':currentLang==='en'?'User not found!':'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯'; return; }
    if(d.password!==p){ loginMsg.textContent=currentLang==='de'?'Falsches Passwort!':currentLang==='en'?'Wrong!':'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©'; return; }
    localStorage.setItem('currentUser',u); currentUser=u; loginMsg.textContent=''; showThemes();
});

// ===== Logout =====
logoutBtn.addEventListener('click',()=>{ localStorage.removeItem('currentUser'); location.reload(); });

// ===== Themen anzeigen =====
function showThemes(){
    loginContainer.classList.add('hidden');
    themeContainer.classList.remove('hidden');
    const d=getUser(currentUser);
    coinsSpan.textContent=d.coins;
    themesDiv.innerHTML='';
    for(const t in topics){
        const div=document.createElement('div');
        div.className='theme-block';
        div.textContent=t;
        div.addEventListener('click',()=>showSubtopics(t));
        themesDiv.appendChild(div);
    }
}

function showSubtopics(topic){
    currentTopic=topic;
    themesDiv.innerHTML='';
    for(const sub in topics[topic]){
        const div=document.createElement('div');
        div.className='subtheme-block';
        div.textContent=sub;
        div.addEventListener('click',()=>startQuiz(sub));
        themesDiv.appendChild(div);
    }
}

function startQuiz(sub){
    currentSubtopic=sub;
    const d=getUser(currentUser);
    const key=currentTopic+'_'+currentSubtopic;
    currentQuizIndex=d.progress[key]||0;
    themeContainer.classList.add('hidden');
    quizContainer.classList.remove('hidden');
    quizTopic.textContent=currentTopic+' - '+currentSubtopic;
    quizCoins.textContent=d.coins;
    renderQuiz();
}

function renderQuiz(){
    const arr=topics[currentTopic][currentSubtopic];
    if(currentQuizIndex>=arr.length){
        alert(currentLang==='de'?'Quiz beendet! +20 Coins':currentLang==='en'?'Quiz finished! +20 coins':'ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± +20 Ø¹Ù…Ù„Ø§Øª');
        const d=getUser(currentUser); d.coins+=20; saveUser(currentUser,d); quizCoins.textContent=d.coins;
        quizContainer.classList.add('hidden'); showSubtopics(currentTopic); return;
    }
    const q=arr[currentQuizIndex];
    let options=[...q.options]; options.sort(()=>Math.random()-0.5);
    quizContent.innerHTML='';
    options.forEach(opt=>{
        const btn=document.createElement('button');
        btn.className='answer-btn';
        btn.textContent=opt;
        btn.addEventListener('click',()=>{
            const d=getUser(currentUser);
            if(opt===q.answer){
                alert(currentLang==='de'?'Richtig!':currentLang==='en'?'Correct!':'ØµØ­ÙŠØ­!');
                d.coins+=25;
                d.progress[currentTopic+'_'+currentSubtopic]=currentQuizIndex+1;
                saveUser(currentUser,d);
                quizCoins.textContent=d.coins;
                currentQuizIndex++;
                renderQuiz();
            }else{
                alert(currentLang==='de'?'Falsch!':currentLang==='en'?'Wrong!':'Ø®Ø·Ø£!');
            }
        });
        quizContent.appendChild(btn);
    });
    const helpBtn=document.createElement('button');
    helpBtn.textContent=currentLang==='de'?'Hilfe (100 MÃ¼nzen)':'Help (100 coins)';
    helpBtn.addEventListener('click',()=>{
        const d=getUser(currentUser);
        if(d.coins>=100){
            d.coins-=100; saveUser(currentUser,d); quizCoins.textContent=d.coins;
            let removed=0;
            document.querySelectorAll('.answer-btn').forEach(b=>{
                if(b.textContent!==q.answer && removed<2){ b.style.display='none'; removed++; }
            });
        }else{
            alert(currentLang==='de'?'Nicht genug MÃ¼nzen!':currentLang==='en'?'Not enough coins!':'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Øª ÙƒØ§ÙÙŠØ©!');
        }
    });
    quizContent.appendChild(helpBtn);
    progressFill.style.width=(currentQuizIndex/arr.length*100)+'%';
}

quizBackBtn.addEventListener('click',()=>{ quizContainer.classList.add('hidden'); showSubtopics(currentTopic); });

if(currentUser) showThemes(); renderUI();

});
</script>

</body>
</html>
