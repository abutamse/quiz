<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Big Quiz</title>
<style>
body{
  font-family:'Segoe UI',Tahoma,sans-serif;
  margin:0;
  background:linear-gradient(to bottom,#6a11cb,#2575fc);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
[dir="rtl"]{direction:rtl;text-align:right;}
.container{
  background:#fff;
  padding:20px;
  border-radius:20px;
  width:95%;
  max-width:600px;
  box-shadow:0 10px 25px rgba(0,0,0,0.3);
}
.hidden{display:none;}
h2,h3{text-align:center;}
button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:10px;
  background:#4CAF50;
  color:white;
  font-weight:bold;
  cursor:pointer;
}
.theme,.sub,.answer{
  background:#4CAF50;
  color:white;
  padding:16px;
  margin:10px 0;
  border-radius:15px;
  text-align:center;
  cursor:pointer;
}
.top{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.badge{
  background:#ffecb3;
  padding:5px 10px;
  border-radius:10px;
  font-weight:bold;
}
.lang-btn{
  width:auto;
  padding:5px 10px;
  font-size:14px;
  background:#007BFF;
  margin:0 3px;
  color:white;
  border:none;
  border-radius:5px;
  cursor:pointer;
}
.progress{
  width:100%;
  height:20px;
  background:#ddd;
  border-radius:10px;
  overflow:hidden;
}
.fill{height:100%;background:#4CAF50;width:0%;}
#result{
  margin-top:10px;
  padding:10px;
  border-radius:10px;
  font-weight:bold;
  text-align:center;
  display:none;
}
input{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid #ccc;
  text-align:center;
}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="container" id="loginBox">
  <h2 id="loginTitle">Login / Registrierung</h2>
  <input id="username" placeholder="Benutzername">
  <input id="password" type="password" placeholder="Passwort">
  <button onclick="login()" id="loginBtn">Login</button>
  <button onclick="register()" id="registerBtn">Registrieren</button>
  <p id="loginMsg" style="color:red;text-align:center;"></p>
</div>

<!-- THEMEN -->
<div class="container hidden" id="themeBox">
  <div class="top">
    <h2 id="themeTitle"></h2>
    <div class="badge">üí∞ <span id="coinsSpan">0</span> | ‚≠ê <span id="levelSpan">1</span></div>
  </div>

  <div>
    <button class="lang-btn" onclick="setLang('de')">DE</button>
    <button class="lang-btn" onclick="setLang('en')">EN</button>
    <button class="lang-btn" onclick="setLang('ar')">AR</button>
  </div>

  <div id="themes"></div>
  <button style="background:#f44336;margin-top:10px;" onclick="logout()">Logout</button>
</div>

<!-- QUIZ -->
<div class="container hidden" id="quizBox">
  <div class="top">
    <h3 id="quizTitle"></h3>
    <div class="badge">üí∞ <span id="quizCoins">0</span></div>
  </div>

  <div class="progress"><div class="fill" id="fill"></div></div>

  <div id="question"></div>
  <div id="answers"></div>

  <button style="background:#ff9800" onclick="useHelp()">Hilfe (100 üí∞)</button>

  <div id="result"></div>

  <button style="background:#f44336" onclick="backToThemes()">‚¨Ö Zur√ºck</button>
</div>

<script>
/* ================= DATA ================= */
const quizData={
  Geschichte:{
    label:{de:"Geschichte",en:"History",ar:"ÿßŸÑÿ™ÿßÿ±ŸäÿÆ"},
    Deutschland:{
      label:{de:"Deutschland",en:"Germany",ar:"ÿ£ŸÑŸÖÿßŸÜŸäÿß"},
      questions:[
        {q:{de:"Wann begann der 2. Weltkrieg?",en:"When did WWII start?",ar:"ŸÖÿ™Ÿâ ÿ®ÿØÿ£ ÿßŸÑÿ≠ÿ±ÿ® ÿßŸÑÿπÿßŸÑŸÖŸäÿ© ÿßŸÑÿ´ÿßŸÜŸäÿ©ÿü"},options:{de:["1939","1945","1914","1923"],en:["1939","1945","1914","1923"],ar:["1939","1945","1914","1923"]},answer:{de:"1939",en:"1939",ar:"1939"}},
        {q:{de:"Wer war der erste Kaiser Deutschlands?",en:"Who was the first emperor of Germany?",ar:"ŸÖŸÜ ŸÉÿßŸÜ ÿ£ŸàŸÑ ÿ•ŸÖÿ®ÿ±ÿßÿ∑Ÿàÿ± ÿ£ŸÑŸÖÿßŸÜŸäÿßÿü"},options:{de:["Wilhelm I","Friedrich II","Otto I","Karl der Gro√üe"],en:["Wilhelm I","Friedrich II","Otto I","Karl der Gro√üe"],ar:["ŸÅŸäŸÑŸáŸÑŸÖ ÿßŸÑÿ£ŸàŸÑ","ŸÅÿ±ŸäÿØÿ±ŸäŸÉ ÿßŸÑÿ´ÿßŸÜŸä","ÿ£Ÿàÿ™Ÿà ÿßŸÑÿ£ŸàŸÑ","ŸÉÿßÿ±ŸÑ ÿßŸÑÿπÿ∏ŸäŸÖ"]},answer:{de:"Wilhelm I",en:"Wilhelm I",ar:"ŸÅŸäŸÑŸáŸÑŸÖ ÿßŸÑÿ£ŸàŸÑ"}},
        {q:{de:"Wann fiel die Berliner Mauer?",en:"When did the Berlin Wall fall?",ar:"ŸÖÿ™Ÿâ ÿ≥ŸÇÿ∑ÿ™ ÿ¨ÿØÿßÿ± ÿ®ÿ±ŸÑŸäŸÜÿü"},options:{de:["1989","1990","1987","1991"],en:["1989","1990","1987","1991"],ar:["1989","1990","1987","1991"]},answer:{de:"1989",en:"1989",ar:"1989"}},
        {q:{de:"Was war der Ausl√∂ser des 1. Weltkriegs?",en:"What triggered WWI?",ar:"ŸÖÿß ÿßŸÑÿ∞Ÿä ÿ≥ÿ®ÿ® ÿßŸÑÿ≠ÿ±ÿ® ÿßŸÑÿπÿßŸÑŸÖŸäÿ© ÿßŸÑÿ£ŸàŸÑŸâÿü"},options:{de:["Attentat von Sarajevo","Krieg in Afrika","Industrialisierung","Revolution"],en:["Sarajevo assassination","War in Africa","Industrialization","Revolution"],ar:["ÿßÿ∫ÿ™ŸäÿßŸÑ ÿ≥ÿ±ÿßŸäŸäŸÅŸà","ÿßŸÑÿ≠ÿ±ÿ® ŸÅŸä ÿ£ŸÅÿ±ŸäŸÇŸäÿß","ÿßŸÑÿ™ÿµŸÜŸäÿπ","ÿßŸÑÿ´Ÿàÿ±ÿ©"]},answer:{de:"Attentat von Sarajevo",en:"Sarajevo assassination",ar:"ÿßÿ∫ÿ™ŸäÿßŸÑ ÿ≥ÿ±ÿßŸäŸäŸÅŸà"}},
        {q:{de:"Wer entdeckte Amerika?",en:"Who discovered America?",ar:"ŸÖŸÜ ÿßŸÉÿ™ÿ¥ŸÅ ÿ£ŸÖÿ±ŸäŸÉÿßÿü"},options:{de:["Kolumbus","Vespucci","Magellan","Leif Erikson"],en:["Columbus","Vespucci","Magellan","Leif Erikson"],ar:["ŸÉŸàŸÑŸàŸÖÿ®Ÿàÿ≥","ŸÅŸäÿ≥ÿ®ŸàŸÉŸä","ŸÖÿßÿ¨ŸÑÿßŸÜ","ŸÑŸäŸÅ ÿ•ÿ±ŸäŸÉÿ≥ŸàŸÜ"]},answer:{de:"Kolumbus",en:"Columbus",ar:"ŸÉŸàŸÑŸàŸÖÿ®Ÿàÿ≥"}},
        {q:{de:"Wann war der Fall von Konstantinopel?",en:"Fall of Constantinople?",ar:"ŸÖÿ™Ÿâ ÿ≥ŸÇÿ∑ ÿßŸÑŸÇÿ≥ÿ∑ŸÜÿ∑ŸäŸÜŸäÿ©ÿü"},options:{de:["1453","1492","1204","1521"],en:["1453","1492","1204","1521"],ar:["1453","1492","1204","1521"]},answer:{de:"1453",en:"1453",ar:"1453"}},
        {q:{de:"Wer war Napoleon?",en:"Who was Napoleon?",ar:"ŸÖŸÜ ŸÉÿßŸÜ ŸÜÿßÿ®ŸÑŸäŸàŸÜÿü"},options:{de:["Franz√∂sischer Kaiser","Russischer Zar","Deutscher K√∂nig","Britischer K√∂nig"],en:["French Emperor","Russian Tsar","German King","British King"],ar:["ÿßŸÑÿ•ŸÖÿ®ÿ±ÿßÿ∑Ÿàÿ± ÿßŸÑŸÅÿ±ŸÜÿ≥Ÿä","ÿßŸÑŸÇŸäÿµÿ± ÿßŸÑÿ±Ÿàÿ≥Ÿä","ŸÖŸÑŸÉ ÿ£ŸÑŸÖÿßŸÜŸäÿß","ÿßŸÑŸÖŸÑŸÉ ÿßŸÑÿ®ÿ±Ÿäÿ∑ÿßŸÜŸä"]},answer:{de:"Franz√∂sischer Kaiser",en:"French Emperor",ar:"ÿßŸÑÿ•ŸÖÿ®ÿ±ÿßÿ∑Ÿàÿ± ÿßŸÑŸÅÿ±ŸÜÿ≥Ÿä"}},
        {q:{de:"Wann begann die Franz√∂sische Revolution?",en:"When did the French Revolution start?",ar:"ŸÖÿ™Ÿâ ÿ®ÿØÿ£ÿ™ ÿßŸÑÿ´Ÿàÿ±ÿ© ÿßŸÑŸÅÿ±ŸÜÿ≥Ÿäÿ©ÿü"},options:{de:["1789","1776","1804","1799"],en:["1789","1776","1804","1799"],ar:["1789","1776","1804","1799"]},answer:{de:"1789",en:"1789",ar:"1789"}},
        {q:{de:"Wer schrieb die 'Ilias'?",en:"Who wrote the 'Iliad'?",ar:"ŸÖŸÜ ŸÉÿ™ÿ® ÿßŸÑÿ•ŸÑŸäÿßÿ∞ÿ©ÿü"},options:{de:["Homer","Virgil","Sophokles","Euripides"],en:["Homer","Virgil","Sophocles","Euripides"],ar:["ŸáŸàŸÖŸäÿ±Ÿàÿ≥","ŸÅŸäÿ±ÿ¨ŸäŸÑ","ÿ≥ŸàŸÅŸàŸÉŸÑŸäÿ≥","ŸäŸàÿ±ÿ®ŸäÿØŸäÿ≥"]},answer:{de:"Homer",en:"Homer",ar:"ŸáŸàŸÖŸäÿ±Ÿàÿ≥"}},
        {q:{de:"Wann war die industrielle Revolution?",en:"When was the Industrial Revolution?",ar:"ŸÖÿ™Ÿâ ŸÉÿßŸÜÿ™ ÿßŸÑÿ´Ÿàÿ±ÿ© ÿßŸÑÿµŸÜÿßÿπŸäÿ©ÿü"},options:{de:["18. Jh","17. Jh","19. Jh","20. Jh"],en:["18th c.","17th c.","19th c.","20th c."],ar:["ÿßŸÑŸÇÿ±ŸÜ 18","ÿßŸÑŸÇÿ±ŸÜ 17","ÿßŸÑŸÇÿ±ŸÜ 19","ÿßŸÑŸÇÿ±ŸÜ 20"]},answer:{de:"18. Jh",en:"18th c.",ar:"ÿßŸÑŸÇÿ±ŸÜ 18"}}
      ]
    }
    // Weitere Themen wie Wissenschaft, TextQuiz, Geheim, ArabischeR√§tsel folgen gleich‚Ä¶
  },
  Wissenschaft:{
    label:{de:"Wissenschaft",en:"Science",ar:"ÿßŸÑÿπŸÑŸàŸÖ"},
    Physik:{
      label:{de:"Physik",en:"Physics",ar:"ÿßŸÑŸÅŸäÿ≤Ÿäÿßÿ°"},
      questions:[
        {q:{de:"Wer entwickelte die Relativit√§tstheorie?",en:"Who developed relativity?",ar:"ŸÖŸÜ ÿ∑Ÿàÿ± ÿßŸÑŸÜÿ∏ÿ±Ÿäÿ© ÿßŸÑŸÜÿ≥ÿ®Ÿäÿ©ÿü"},options:{de:["Einstein","Newton","Tesla","Galileo"],en:["Einstein","Newton","Tesla","Galileo"],ar:["ÿ£ŸäŸÜÿ¥ÿ™ÿßŸäŸÜ","ŸÜŸäŸàÿ™ŸÜ","ÿ™ÿ≥ŸÑÿß","ÿ¨ÿßŸÑŸäŸÑŸäŸà"]},answer:{de:"Einstein",en:"Einstein",ar:"ÿ£ŸäŸÜÿ¥ÿ™ÿßŸäŸÜ"}},
        {q:{de:"Was ist die Einheit der Kraft?",en:"Unit of force?",ar:"ŸÖÿß ŸáŸä Ÿàÿ≠ÿØÿ© ÿßŸÑŸÇŸàÿ©ÿü"},options:{de:["Newton","Joule","Pascal","Watt"],en:["Newton","Joule","Pascal","Watt"],ar:["ŸÜŸäŸàÿ™ŸÜ","ÿ¨ŸàŸÑ","ÿ®ÿßÿ≥ŸÉÿßŸÑ","Ÿàÿßÿ™"]},answer:{de:"Newton",en:"Newton",ar:"ŸÜŸäŸàÿ™ŸÜ"}},
        {q:{de:"Wer entdeckte die Elektrizit√§t?",en:"Who discovered electricity?",ar:"ŸÖŸÜ ÿßŸÉÿ™ÿ¥ŸÅ ÿßŸÑŸÉŸáÿ±ÿ®ÿßÿ°ÿü"},options:{de:["Franklin","Volta","Faraday","Tesla"],en:["Franklin","Volta","Faraday","Tesla"],ar:["ŸÅÿ±ÿßŸÜŸÉŸÑŸäŸÜ","ŸÅŸàŸÑÿ™ÿß","ŸÅÿßÿ±ÿßÿØÿßŸä","ÿ™ÿ≥ŸÑÿß"]},answer:{de:"Franklin",en:"Franklin",ar:"ŸÅÿ±ÿßŸÜŸÉŸÑŸäŸÜ"}},
        {q:{de:"Was ist Lichtgeschwindigkeit?",en:"Speed of light?",ar:"ŸÖÿß ŸáŸä ÿ≥ÿ±ÿπÿ© ÿßŸÑÿ∂Ÿàÿ°ÿü"},options:{de:["299792 km/s","300000 km/s","150000 km/s","100000 km/s"],en:["299792 km/s","300000 km/s","150000 km/s","100000 km/s"],ar:["299792 ŸÉŸÖ/ÿ´","300000 ŸÉŸÖ/ÿ´","150000 ŸÉŸÖ/ÿ´","100000 ŸÉŸÖ/ÿ´"]},answer:{de:"299792 km/s",en:"299792 km/s",ar:"299792 ŸÉŸÖ/ÿ´"}},
        {q:{de:"Wer entwickelte das Periodensystem?",en:"Who developed the periodic table?",ar:"ŸÖŸÜ ÿ∑Ÿàÿ± ÿßŸÑÿ¨ÿØŸàŸÑ ÿßŸÑÿØŸàÿ±Ÿäÿü"},options:{de:["Mendelejew","Curie","Dalton","Lavoisier"],en:["Mendeleev","Curie","Dalton","Lavoisier"],ar:["ŸÖŸÜÿØŸÑŸäŸäŸÅ","ŸÉŸàÿ±Ÿä","ÿØÿßŸÑÿ™ŸàŸÜ","ŸÑÿßŸÅŸàÿßÿ≤ŸäŸäŸá"]},answer:{de:"Mendelejew",en:"Mendeleev",ar:"ŸÖŸÜÿØŸÑŸäŸäŸÅ"}},
        {q:{de:"Was ist die kleinste Einheit des Lebens?",en:"Smallest unit of life?",ar:"ŸÖÿß ŸáŸä ÿ£ÿµÿ∫ÿ± Ÿàÿ≠ÿØÿ© ŸÑŸÑÿ≠Ÿäÿßÿ©ÿü"},options:{de:["Zelle","Atom","Molek√ºl","Gewebe"],en:["Cell","Atom","Molecule","Tissue"],ar:["ÿÆŸÑŸäÿ©","ÿ∞ÿ±ÿ©","ÿ¨ÿ≤Ÿäÿ°","ŸÜÿ≥Ÿäÿ¨"]},answer:{de:"Zelle",en:"Cell",ar:"ÿÆŸÑŸäÿ©"}},
        {q:{de:"Wer entdeckte Penicillin?",en:"Who discovered Penicillin?",ar:"ŸÖŸÜ ÿßŸÉÿ™ÿ¥ŸÅ ÿßŸÑÿ®ŸÜÿ≥ŸÑŸäŸÜÿü"},options:{de:["Fleming","Pasteur","Curie","Einstein"],en:["Fleming","Pasteur","Curie","Einstein"],ar:["ŸÅŸÑŸäŸÖŸÜÿ¨","ÿ®ÿßÿ≥ÿ™Ÿàÿ±","ŸÉŸàÿ±Ÿä","ÿ£ŸäŸÜÿ¥ÿ™ÿßŸäŸÜ"]},answer:{de:"Fleming",en:"Fleming",ar:"ŸÅŸÑŸäŸÖŸÜÿ¨"}},
        {q:{de:"Was ist die Erde?",en:"What is Earth?",ar:"ŸÖÿß ŸáŸä ÿßŸÑÿ£ÿ±ÿ∂ÿü"},options:{de:["Planet","Stern","Mond","Komet"],en:["Planet","Star","Moon","Comet"],ar:["ŸÉŸàŸÉÿ®","ŸÜÿ¨ŸÖ","ŸÇŸÖÿ±","ŸÖÿ∞ŸÜÿ®"]},answer:{de:"Planet",en:"Planet",ar:"ŸÉŸàŸÉÿ®"}},
        {q:{de:"Wer entwickelte die Evolutionstheorie?",en:"Who developed evolution theory?",ar:"ŸÖŸÜ ÿ∑Ÿàÿ± ŸÜÿ∏ÿ±Ÿäÿ© ÿßŸÑÿ™ÿ∑Ÿàÿ±ÿü"},options:{de:["Darwin","Lamarck","Einstein","Newton"],en:["Darwin","Lamarck","Einstein","Newton"],ar:["ÿØÿßÿ±ŸàŸäŸÜ","ŸÑÿßŸÖÿßÿ±ŸÉ","ÿ£ŸäŸÜÿ¥ÿ™ÿßŸäŸÜ","ŸÜŸäŸàÿ™ŸÜ"]},answer:{de:"Darwin",en:"Darwin",ar:"ÿØÿßÿ±ŸàŸäŸÜ"}},
        {q:{de:"Was ist die chemische Formel von Wasser?",en:"Chemical formula of water?",ar:"ŸÖÿß ŸáŸä ÿßŸÑÿµŸäÿ∫ÿ© ÿßŸÑŸÉŸäŸÖŸäÿßÿ¶Ÿäÿ© ŸÑŸÑŸÖÿßÿ°ÿü"},options:{de:["H2O","CO2","O2","NaCl"],en:["H2O","CO2","O2","NaCl"],ar:["H2O","CO2","O2","NaCl"]},answer:{de:"H2O",en:"H2O",ar:"H2O"}}
      ]
    }
  },
  TextQuiz:{
    label:{de:"Text Quiz",en:"Text Quiz",ar:"ÿßÿÆÿ™ÿ®ÿßÿ± ŸÜÿµŸä"},
    R√§tsel:{
      label:{de:"R√§tsel",en:"Riddle",ar:"ŸÑÿ∫ÿ≤"},
      questions:[
        {q:{de:"Ein Tier, das miaut",en:"An animal that meows",ar:"ÿ≠ŸäŸàÿßŸÜ ŸäÿµÿØÿ± ŸÖŸàÿßÿ°"},answer:{de:"Katze",en:"Cat",ar:"ŸÇÿ∑ÿ©"}},
        {q:{de:"Es ist gelb und man kann es essen",en:"It's yellow and edible",ar:"ÿ•ŸÜŸá ÿ£ÿµŸÅÿ± ŸàŸäŸÖŸÉŸÜ ÿ£ŸÉŸÑŸá"},answer:{de:"Banane",en:"Banana",ar:"ŸÖŸàÿ≤"}},
        {q:{de:"Es fliegt in der Nacht und schl√§ft tags√ºber",en:"It flies at night and sleeps during the day",ar:"Ÿäÿ∑Ÿäÿ± ŸÅŸä ÿßŸÑŸÑŸäŸÑ ŸàŸäŸÜÿßŸÖ ŸÜŸáÿßÿ±ÿßŸã"},answer:{de:"Fledermaus",en:"Bat",ar:"ÿÆŸÅÿßÿ¥"}},
        {q:{de:"Es ist rund und wird geworfen",en:"It is round and thrown",ar:"ÿ•ŸÜŸá ÿØÿßÿ¶ÿ±Ÿä ŸàŸäÿ™ŸÖ ÿ±ŸÖŸäŸá"},answer:{de:"Ball",en:"Ball",ar:"ŸÉÿ±ÿ©"}},
        {q:{de:"Ein Ger√§t zum Schreiben",en:"A device for writing",ar:"ÿ¨Ÿáÿßÿ≤ ŸÑŸÑŸÉÿ™ÿßÿ®ÿ©"},answer:{de:"Stift",en:"Pen",ar:"ŸÇŸÑŸÖ"}},
        {q:{de:"Es ist hei√ü und kommt aus dem Ofen",en:"It's hot and comes from the oven",ar:"ÿ•ŸÜŸá ÿ≥ÿßÿÆŸÜ ŸàŸäÿÆÿ±ÿ¨ ŸÖŸÜ ÿßŸÑŸÅÿ±ŸÜ"},answer:{de:"Brot",en:"Bread",ar:"ÿÆÿ®ÿ≤"}},
        {q:{de:"Es lebt im Wasser",en:"Lives in water",ar:"ŸäÿπŸäÿ¥ ŸÅŸä ÿßŸÑŸÖÿßÿ°"},answer:{de:"Fisch",en:"Fish",ar:"ÿ≥ŸÖŸÉ"}},
        {q:{de:"Man benutzt es zum Schneiden",en:"Used to cut",ar:"Ÿäÿ≥ÿ™ÿÆÿØŸÖ ŸÑŸÑŸÇÿ∑ÿπ"},answer:{de:"Messer",en:"Knife",ar:"ÿ≥ŸÉŸäŸÜ"}},
        {q:{de:"Es ist weich und kuschelig",en:"Soft and cuddly",ar:"ÿ•ŸÜŸá ŸÜÿßÿπŸÖ ŸàŸäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿßŸÑŸÅÿ±ÿßÿ°",ar:"ÿØÿ®"},answer:{de:"Teddy",en:"Teddy",ar:"ÿØÿ®"}},
        {q:{de:"Es hat vier Beine",en:"It has four legs",ar:"ŸÑŸá ÿ£ÿ±ÿ®ÿπÿ© ÿ£ÿ±ÿ¨ŸÑ"},answer:{de:"Hund",en:"Dog",ar:"ŸÉŸÑÿ®"}}
      ]
    }
  },
  ArabischeR√§tsel:{
    label:{de:"Arabische R√§tsel",en:"Arabic Riddles",ar:"ÿ£ŸÑÿ∫ÿßÿ≤ ÿπÿ±ÿ®Ÿäÿ©"},
    Klassische:{
      label:{de:"Klassische R√§tsel",en:"Classic Riddles",ar:"ÿ£ŸÑÿ∫ÿßÿ≤ ŸÉŸÑÿßÿ≥ŸäŸÉŸäÿ©"},
      questions:[
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ÿ•ÿ∞ÿß ÿ¥ÿßÿ±ŸÉÿ™Ÿá ŸÜŸÇÿµÿü",en:"What decreases if you share it?",ar:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ÿ•ÿ∞ÿß ÿ¥ÿßÿ±ŸÉÿ™Ÿá ŸÜŸÇÿµÿü"},answer:{de:"Das Geheimnis",en:"The Secret",ar:"ÿßŸÑÿ≥ÿ±"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸÑÿß ŸäŸÖÿ¥Ÿä ÿ•ŸÑÿß ÿ®ÿßŸÑÿ∂ÿ±ÿ®ÿü",en:"What doesn‚Äôt move unless you hit it?",ar:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸÑÿß ŸäŸÖÿ¥Ÿä ÿ•ŸÑÿß ÿ®ÿßŸÑÿ∂ÿ±ÿ®ÿü"},answer:{de:"Der Nagel",en:"The Nail",ar:"ÿßŸÑŸÖÿ≥ŸÖÿßÿ±"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸäŸÉŸàŸÜ ÿ£ÿÆÿ∂ÿ± ŸÅŸä ÿßŸÑÿ£ÿ±ÿ∂ÿå ÿ£ÿ≥ŸàÿØ ŸÅŸä ÿßŸÑÿ≥ŸàŸÇÿå ÿ£ÿ≠ŸÖÿ± ŸÅŸä ÿßŸÑÿ®Ÿäÿ™ÿü",en:"What is green in the ground, black in the market, red at home?",ar:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸäŸÉŸàŸÜ ÿ£ÿÆÿ∂ÿ± ŸÅŸä ÿßŸÑÿ£ÿ±ÿ∂ÿå ÿ£ÿ≥ŸàÿØ ŸÅŸä ÿßŸÑÿ≥ŸàŸÇÿå ÿ£ÿ≠ŸÖÿ± ŸÅŸä ÿßŸÑÿ®Ÿäÿ™ÿü"},answer:{de:"Tee",en:"Tea",ar:"ÿßŸÑÿ¥ÿßŸä"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ∞Ÿä Ÿäÿ≤ÿØÿßÿØ ŸÉŸÑŸÖÿß ŸÜŸÇÿµÿü",en:"What increases as it decreases?",ar:"ŸÖÿß ÿßŸÑÿ∞Ÿä Ÿäÿ≤ÿØÿßÿØ ŸÉŸÑŸÖÿß ŸÜŸÇÿµÿü"},answer:{de:"Alter",en:"Age",ar:"ÿßŸÑÿπŸÖÿ±"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä Ÿäÿ™ŸÉŸÑŸÖ ŸÉŸÑ ŸÑÿ∫ÿßÿ™ ÿßŸÑÿπÿßŸÑŸÖÿü",en:"What speaks all languages?",ar:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä Ÿäÿ™ŸÉŸÑŸÖ ŸÉŸÑ ŸÑÿ∫ÿßÿ™ ÿßŸÑÿπÿßŸÑŸÖÿü"},answer:{de:"Echo",en:"Echo",ar:"ÿßŸÑÿµÿØŸâ"}},
        {q:{de:"ÿ¥Ÿäÿ° ÿ•ÿ∞ÿß ŸÇŸÑÿ®ÿ™Ÿá ŸÉÿ®ÿ±ÿü",en:"Something that grows when flipped?",ar:"ÿ¥Ÿäÿ° ÿ•ÿ∞ÿß ŸÇŸÑÿ®ÿ™Ÿá ŸÉÿ®ÿ±ÿü"},answer:{de:"Die 6 wird 9",en:"6 becomes 9",ar:"ÿßŸÑÿ±ŸÇŸÖ 6 (Ÿäÿµÿ®ÿ≠ 9)"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸÑŸá ÿ±ÿ£ÿ≥ ŸàŸÑÿß ÿπŸäŸÜ ŸÑŸáÿü",en:"What has a head but no eyes?",ar:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸÑŸá ÿ±ÿ£ÿ≥ ŸàŸÑÿß ÿπŸäŸÜ ŸÑŸáÿü"},answer:{de:"Stecknadel",en:"Pin",ar:"ÿßŸÑÿØÿ®Ÿàÿ≥"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ∞Ÿä ŸÑÿß ŸäÿØÿÆŸÑ ÿ•ŸÑÿß ÿ•ÿ∞ÿß ÿ∂Ÿèÿ±ÿ®ÿü",en:"What only enters when hit?",ar:"ŸÖÿß ÿßŸÑÿ∞Ÿä ŸÑÿß ŸäÿØÿÆŸÑ ÿ•ŸÑÿß ÿ•ÿ∞ÿß ÿ∂Ÿèÿ±ÿ®ÿü"},answer:{de:"Nagel",en:"Nail",ar:"ÿßŸÑŸÖÿ≥ŸÖÿßÿ±"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸÑÿß ŸäŸÖŸÉŸÜŸÉ ÿßŸÑÿßÿ≠ÿ™ŸÅÿßÿ∏ ÿ®Ÿá ÿ®ÿπÿØ ÿ£ŸÜ ÿ™ÿπÿ∑ŸäŸáÿü",en:"What you cannot keep after giving?",ar:"ŸÖÿß ÿßŸÑÿ∞Ÿä ŸÑÿß ŸäŸÖŸÉŸÜŸÉ ÿßŸÑÿßÿ≠ÿ™ŸÅÿßÿ∏ ÿ®Ÿá ÿ®ÿπÿØ ÿ£ŸÜ ÿ™ÿπÿ∑ŸäŸáÿü"},answer:{de:"Das Wort",en:"The Word",ar:"ÿßŸÑŸÉŸÑŸÖÿ©"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑŸÖŸàÿ¨ŸàÿØ ŸÅŸä ŸÉŸÑ ÿ®Ÿäÿ™ ŸàŸÑÿß ŸäŸèÿ≥ÿ™ÿπŸÖŸÑÿü",en:"What exists in every house but is unused?",ar:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑŸÖŸàÿ¨ŸàÿØ ŸÅŸä ŸÉŸÑ ÿ®Ÿäÿ™ ŸàŸÑÿß ŸäŸèÿ≥ÿ™ÿπŸÖŸÑÿü"},answer:{de:"Friedhof",en:"Cemetery",ar:"ÿßŸÑŸÖŸÇÿ®ÿ±ÿ©"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ∞Ÿä Ÿäÿ±ÿßŸÉ ÿØÿßÿ¶ŸÖŸãÿß ŸàŸÑÿß ÿ™ÿ≥ÿ™ÿ∑Ÿäÿπ ÿ±ÿ§Ÿäÿ™Ÿáÿü",en:"What always sees you but you can't see?",ar:"ŸÖÿß ÿßŸÑÿ∞Ÿä Ÿäÿ±ÿßŸÉ ÿØÿßÿ¶ŸÖŸãÿß ŸàŸÑÿß ÿ™ÿ≥ÿ™ÿ∑Ÿäÿπ ÿ±ÿ§Ÿäÿ™Ÿáÿü"},answer:{de:"Hinter deinem Kopf",en:"Behind your head",ar:"ÿÆŸÑŸÅ ÿ±ÿ£ÿ≥ŸÉ"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ÿ•ÿ∞ÿß ÿ∞ŸÉÿ±ÿ™Ÿá ÿßÿÆÿ™ŸÅŸâÿü",en:"What disappears when mentioned?",ar:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ÿ•ÿ∞ÿß ÿ∞ŸÉÿ±ÿ™Ÿá ÿßÿÆÿ™ŸÅŸâÿü"},answer:{de:"Stille",en:"Silence",ar:"ÿßŸÑÿµŸÖÿ™"}}
      ]
    },
    Religi√∂se:{
      label:{de:"Religi√∂se R√§tsel",en:"Religious Riddles",ar:"ÿ£ŸÑÿ∫ÿßÿ≤ ÿØŸäŸÜŸäÿ©"},
      questions:[
        {q:{de:"ŸÖÿß ÿ£ŸàŸÑ ÿ¥Ÿäÿ° ÿÆŸÑŸÇŸá ÿßŸÑŸÑŸáÿü",en:"What was the first thing God created?",ar:"ŸÖÿß ÿ£ŸàŸÑ ÿ¥Ÿäÿ° ÿÆŸÑŸÇŸá ÿßŸÑŸÑŸáÿü"},answer:{de:"Der Stift",en:"The Pen",ar:"ÿßŸÑŸÇŸÑŸÖ"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿµŸÑÿßÿ© ÿßŸÑÿ™Ÿä ŸÑŸäÿ≥ ŸÅŸäŸáÿß ÿ±ŸÉŸàÿπ ŸàŸÑÿß ÿ≥ÿ¨ŸàÿØÿü",en:"Which prayer has no bowing or prostration?",ar:"ŸÖÿß ÿßŸÑÿµŸÑÿßÿ© ÿßŸÑÿ™Ÿä ŸÑŸäÿ≥ ŸÅŸäŸáÿß ÿ±ŸÉŸàÿπ ŸàŸÑÿß ÿ≥ÿ¨ŸàÿØÿü"},answer:{de:"Leichengebet",en:"Funeral prayer",ar:"ÿµŸÑÿßÿ© ÿßŸÑÿ¨ŸÜÿßÿ≤ÿ©"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ÿ≠ÿ±ŸëŸÖ ÿßÿ≥ÿ™ÿπŸÖÿßŸÑŸá Ÿàÿ£ÿ≠ŸÑŸë ÿ£ŸÉŸÑŸáÿü",en:"What is forbidden to use but allowed to eat?",ar:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ÿ≠ÿ±ŸëŸÖ ÿßÿ≥ÿ™ÿπŸÖÿßŸÑŸá Ÿàÿ£ÿ≠ŸÑŸë ÿ£ŸÉŸÑŸáÿü"},answer:{de:"Gold",en:"Gold",ar:"ÿßŸÑÿ∞Ÿáÿ®"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ÿ•ÿ∞ÿß ÿ≤ÿßÿØ ŸÜŸÇÿµ ÿßŸÑÿ£ÿ¨ÿ±ÿü",en:"What reduces reward if increased?",ar:"ŸÖÿß ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ÿ•ÿ∞ÿß ÿ≤ÿßÿØ ŸÜŸÇÿµ ÿßŸÑÿ£ÿ¨ÿ±ÿü"},answer:{de:"Heuchelei",en:"Hypocrisy",ar:"ÿßŸÑÿ±Ÿäÿßÿ°"}},
        {q:{de:"ŸÖÿß ÿßŸÑÿπŸÖŸÑ ÿßŸÑÿ∞Ÿä ŸÑÿß ÿ£ÿ¨ÿ± ŸÅŸäŸá ŸÖÿπ ÿßŸÑÿ¥ÿ±ŸÉÿü",en:"Which act has no reward with shirk?",ar:"ŸÖÿß ÿßŸÑÿπŸÖŸÑ ÿßŸÑÿ∞Ÿä ŸÑÿß ÿ£ÿ¨ÿ± ŸÅŸäŸá ŸÖÿπ ÿßŸÑÿ¥ÿ±ŸÉÿü"},answer:{de:"Anbetung",en:"Worship",ar:"ÿßŸÑÿπÿ®ÿßÿØÿ©"}},
        {q:{de:"Wer ist der Prophet, der das Wasser teilte?",en:"Which prophet parted the water?",ar:"ŸÖŸÜ ŸáŸà ÿßŸÑŸÜÿ®Ÿä ÿßŸÑÿ∞Ÿä ÿ¥ŸÇ ÿßŸÑŸÖÿßÿ°ÿü"},answer:{de:"Moses",en:"Moses",ar:"ŸÖŸàÿ≥Ÿâ"}},
        {q:{de:"Welches Buch wurde zuerst offenbart?",en:"Which book was revealed first?",ar:"ÿ£Ÿä ŸÉÿ™ÿßÿ® ŸÜÿ≤ŸÑ ÿ£ŸàŸÑÿßŸãÿü"},answer:{de:"Tawrat",en:"Torah",ar:"ÿßŸÑÿ™Ÿàÿ±ÿßÿ©"}},
        {q:{de:"Wie viele Gebete t√§glich?",en:"How many prayers daily?",ar:"ŸÉŸÖ ÿπÿØÿØ ÿßŸÑÿµŸÑŸàÿßÿ™ ÿßŸÑŸäŸàŸÖŸäÿ©ÿü"},answer:{de:"5",en:"5",ar:"5"}},
        {q:{de:"Was ist die Kaaba?",en:"What is the Kaaba?",ar:"ŸÖÿß ŸáŸä ÿßŸÑŸÉÿπÿ®ÿ©ÿü"},answer:{de:"Geb√§ude in Mekka",en:"Building in Mecca",ar:"ŸÖÿ®ŸÜŸâ ŸÅŸä ŸÖŸÉÿ©"}},
        {q:{de:"Wer ist der Engel, der die Offenbarungen brachte?",en:"Which angel delivered revelations?",ar:"ŸÖŸÜ ŸáŸà ÿßŸÑŸÖŸÑÿßŸÉ ÿßŸÑÿ∞Ÿä ÿ¨ÿßÿ° ÿ®ÿßŸÑŸàÿ≠Ÿäÿü"},answer:{de:"Gabriel",en:"Gabriel",ar:"ÿ¨ÿ®ÿ±ŸäŸÑ"}}
      ]
    }
  }
};

/* ================= STATE ================= */
let lang="de";
let topic=null, sub=null, index=0;
let coins=Number(localStorage.getItem("coins"))||0;
let level=Number(localStorage.getItem("level"))||1;
let reduced=null;
let currentUser=null;

/* ================= UTIL ================= */
const shuffle=a=>[...a].sort(()=>Math.random()-0.5);

/* ================= LOGIN/REGISTER ================= */
function login(){
  const u=document.getElementById("username").value.trim();
  const p=document.getElementById("password").value;
  if(!u||!p){loginMsg.textContent=lang==="de"?"Bitte ausf√ºllen":lang==="en"?"Please fill in":"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿßŸÑÿ•ÿØÿÆÿßŸÑ"; return;}
  const user=JSON.parse(localStorage.getItem("user_"+u));
  if(user && user.password===p){currentUser=u; localStorage.setItem("currentUser",u); loginBox.classList.add("hidden"); themeBox.classList.remove("hidden"); renderThemes();}
  else loginMsg.textContent=lang==="de"?"Falscher Login":lang==="en"?"Wrong login":"ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿÆÿßÿ∑ÿ¶";
}
function register(){
  const u=document.getElementById("username").value.trim();
  const p=document.getElementById("password").value;
  if(!u||!p){loginMsg.textContent=lang==="de"?"Bitte ausf√ºllen":lang==="en"?"Please fill in":"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿßŸÑÿ•ÿØÿÆÿßŸÑ"; return;}
  if(localStorage.getItem("user_"+u)){loginMsg.textContent=lang==="de"?"Benutzer existiert":lang==="en"?"User exists":"ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸàÿ¨ŸàÿØ"; return;}
  localStorage.setItem("user_"+u,JSON.stringify({password:p,coins:0}));
  loginMsg.textContent=lang==="de"?"Registriert!":lang==="en"?"Registered!":"ÿ™ŸÖ ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ!";
}
function logout(){localStorage.removeItem("currentUser"); currentUser=null; loginBox.classList.remove("hidden"); themeBox.classList.add("hidden");}

/* ================= LANGUAGE ================= */
function setLang(l){
  lang=l;
  document.documentElement.dir=l==="ar"?"rtl":"ltr";
  loginTitle.textContent=lang==="de"?"Login / Registrierung":lang==="en"?"Login / Register":"ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ / ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ";
  loginBtn.textContent=lang==="de"?"Login":lang==="en"?"Login":"ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ";
  registerBtn.textContent=lang==="de"?"Registrieren":lang==="en"?"Register":"ÿ™ÿ≥ÿ¨ŸäŸÑ";
  renderThemes();
}

/* ================= THEMES ================= */
function renderThemes(){
  themes.innerHTML="";
  themeTitle.textContent=lang==="de"?"Themen ausw√§hlen":lang==="en"?"Select Topics":"ÿßÿÆÿ™ÿ± ÿßŸÑŸÖŸàÿ∂Ÿàÿπ";
  Object.keys(quizData).forEach(t=>{
    const d=document.createElement("div");
    d.className="theme";
    d.textContent=quizData[t].label[lang];
    d.onclick=()=>renderSubs(t);
    themes.appendChild(d);
  });
  updateStats();
}

function renderSubs(t){
  topic=t;
  themes.innerHTML="";
  Object.keys(quizData[t]).forEach(s=>{
    if(s==="label")return;
    const d=document.createElement("div");
    d.className="sub";
    d.textContent=quizData[t][s].label[lang];
    d.onclick=()=>startQuiz(s);
    themes.appendChild(d);
  });
  const backBtn=document.createElement("button");
  backBtn.textContent=lang==="de"?"Zur√ºck":lang==="en"?"Back":"ÿπŸàÿØÿ©";
  backBtn.style.background="#f44336";
  backBtn.onclick=()=>renderThemes();
  themes.appendChild(backBtn);
}

/* ================= QUIZ ================= */
function startQuiz(s){
  sub=s; index=0; reduced=null;
  themeBox.classList.add("hidden");
  quizBox.classList.remove("hidden");
  quizCoins.textContent=coins;
  showQuestion();
}

function showQuestion(){
  const q=quizData[topic][sub].questions[index];
  if(!q){backToThemes(); return;}
  quizTitle.textContent=quizData[topic][sub].label[lang];
  question.textContent=q.q[lang];
  answers.innerHTML="";
  quizCoins.textContent=coins;

  if(q.options){
    (reduced||shuffle(q.options[lang])).forEach(o=>{
      const b=document.createElement("button");
      b.className="answer";
      b.textContent=o;
      b.onclick=()=>check(o);
      answers.appendChild(b);
    });
  }else{
    const i=document.createElement("input");
    answers.appendChild(i);
    const b=document.createElement("button");
    b.textContent=lang==="de"?"Antworten":lang==="en"?"Submit":"ÿ•ÿ±ÿ≥ÿßŸÑ";
    b.onclick=()=>checkText(i.value);
    answers.appendChild(b);
  }
  fill.style.width=(index/quizData[topic][sub].questions.length*100)+"%";
}

/* ================= HELP ================= */
function useHelp(){
  if(coins<100){alert(lang==="de"?"Nicht genug Coins!":"Not enough coins!"); return;}
  coins-=100; updateStats();
  const q=quizData[topic][sub].questions[index];
  if(q.options){
    const wrong=q.options[lang].filter(o=>o!==q.answer[lang]);
    reduced=shuffle([q.answer[lang],wrong[0]]);
    showQuestion();
  }else{
    const input=document.querySelector("#answers input");
    if(input) input.value=q.answer[lang].substring(0,2);
  }
}

/* ================= CHECK ================= */
function check(ans){
  const q=quizData[topic][sub].questions[index];
  showResult(ans===q.answer[lang]);
}
function checkText(ans){
  const q=quizData[topic][sub].questions[index];
  showResult(ans.trim().toLowerCase()===q.answer[lang].toLowerCase());
}
function showResult(correct){
  if(correct){coins+=25; if(coins>=level*100)level++; result.textContent=lang==="de"?"Richtig!":"Correct!"; result.style.background="#4CAF50";}
  else{result.textContent=lang==="de"?"Falsch!":"Wrong!"; result.style.background="#f44336";}
  localStorage.setItem("coins",coins); localStorage.setItem("level",level);
  result.style.display="block"; reduced=null; index++;
  setTimeout(()=>{result.style.display="none";showQuestion();},1000);
}

/* ================= BACK ================= */
function backToThemes(){quizBox.classList.add("hidden"); themeBox.classList.remove("hidden"); renderThemes();}

/* ================= STATS ================= */
function updateStats(){coinsSpan.textContent=coins; levelSpan.textContent=level;}

/* ================= INIT ================= */
if(localStorage.getItem("currentUser")){currentUser=localStorage.getItem("currentUser"); loginBox.classList.add("hidden"); themeBox.classList.remove("hidden"); renderThemes();}
</script>

</body>
</html>
