<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GroÃŸe Quiz App</title>
<style>
body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin:0; padding:0; background: linear-gradient(to bottom,#6a11cb,#2575fc); display:flex; justify-content:center; align-items:center; min-height:100vh; }
.container { background:white; padding:20px; border-radius:20px; box-shadow:0 10px 25px rgba(0,0,0,0.3); width:95%; max-width:600px; transition: all 0.3s ease; }
h2,h3 { text-align:center; margin:10px 0; color:#333; }
button { width:100%; padding:12px; margin-top:10px; border:none; border-radius:10px; background:#4CAF50; color:white; font-weight:bold; cursor:pointer; font-size:16px; transition: all 0.2s ease; }
button:hover { background:#45a049; transform:scale(1.02); }
.hidden { display:none; }
.theme-block, .subtheme-block, .answer-btn { padding:18px; background:#e2e8f0; margin:10px 0; border-radius:15px; cursor:pointer; text-align:center; font-weight:bold; font-size:18px; transition: all 0.2s ease; }
.theme-block:hover, .subtheme-block:hover, .answer-btn:hover { background:#d1d5db; transform:scale(1.02); }
.flex { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.lang-btn { width:auto; padding:5px 10px; margin:0 5px; font-size:14px; background:#007BFF; color:white; border-radius:5px; cursor:pointer; }
.lang-btn:hover { background:#0056b3; transform:scale(1.05); }
.coin-display { font-weight:bold; background:#ffecb3; padding:5px 10px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.2); }
.progress-bar { width:100%; background:#ddd; border-radius:10px; overflow:hidden; margin-bottom:15px; height:20px; }
.progress-fill { height:100%; background:#4caf50; width:0%; transition: width 0.3s; }
</style>
</head>
<body>

<div class="container" id="login-container">
    <h2 id="title">Login / Registrierung</h2>
    <input type="text" id="username" placeholder="Benutzername">
    <input type="password" id="password" placeholder="Passwort">
    <button id="login-btn">Login</button>
    <button id="register-btn">Registrieren</button>
    <p id="login-msg" style="color:red; text-align:center;"></p>
</div>

<div class="container hidden" id="theme-container">
    <div class="flex">
        <h2 id="theme-title">Themen auswÃ¤hlen</h2>
        <div class="coin-display">Coins: <span id="coins">0</span>ðŸ’°</div>
    </div>
    <div id="lang-switch">
        <button class="lang-btn" data-lang="de">DE</button>
        <button class="lang-btn" data-lang="en">EN</button>
        <button class="lang-btn" data-lang="ar">AR</button>
    </div>
    <div id="themes"></div>
    <button id="logout-btn" style="background:#f44336;">Logout</button>
</div>

<div class="container hidden" id="quiz-container">
    <div class="flex">
        <h2 id="quiz-topic"></h2>
        <div class="coin-display">Coins: <span id="quiz-coins">0</span>ðŸ’°</div>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
    <div id="quiz-content"></div>
    <button id="quiz-back-btn" style="background:#f44336;">ZurÃ¼ck</button>
</div>

<script>
document.addEventListener('DOMContentLoaded',()=>{

let currentLang='de', currentUser=localStorage.getItem('currentUser');
let currentTopic='', currentSubtopic='', currentQuizIndex=0;

const loginContainer=document.getElementById('login-container');
const themeContainer=document.getElementById('theme-container');
const quizContainer=document.getElementById('quiz-container');
const loginMsg=document.getElementById('login-msg');
const usernameInput=document.getElementById('username');
const passwordInput=document.getElementById('password');
const loginBtn=document.getElementById('login-btn');
const registerBtn=document.getElementById('register-btn');
const logoutBtn=document.getElementById('logout-btn');
const themesDiv=document.getElementById('themes');
const coinsSpan=document.getElementById('coins');
const langButtons=document.querySelectorAll('.lang-btn');
const title=document.getElementById('title');
const themeTitle=document.getElementById('theme-title');
const quizTopic=document.getElementById('quiz-topic');
const quizCoins=document.getElementById('quiz-coins');
const quizContent=document.getElementById('quiz-content');
const progressFill=document.getElementById('progress-fill');
const quizBackBtn=document.getElementById('quiz-back-btn');

// ===== Themen & Fragen =====
const topics={
"Geschichte":{"Deutschland":[
{q:{de:"Wann begann der 2. Weltkrieg?",en:"When did WWII start?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£ Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ"},options:["1939","1945","1914","1923"],answer:"1939"},
{q:{de:"Wer war der erste Bundeskanzler?",en:"Who was the first chancellor?",ar:"Ù…Ù† ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ø£ÙˆÙ„ØŸ"},options:["Konrad Adenauer","Helmut Kohl","Angela Merkel","Willy Brandt"],answer:"Konrad Adenauer"},
{q:{de:"Wann wurde die Berliner Mauer gebaut?",en:"When was the Berlin Wall built?",ar:"Ù…ØªÙ‰ Ø¨Ù†ÙŠØª Ø¬Ø¯Ø§Ø± Ø¨Ø±Ù„ÙŠÙ†ØŸ"},options:["1961","1949","1989","1953"],answer:"1961"},
{q:{de:"Wann fiel die Mauer?",en:"When did the wall fall?",ar:"Ù…ØªÙ‰ Ø³Ù‚Ø· Ø§Ù„Ø¬Ø¯Ø§Ø±ØŸ"},options:["1989","1990","1980","1975"],answer:"1989"},
{q:{de:"Wer war Kaiser im 19. Jahrhundert?",en:"Who was emperor in 19th century?",ar:"Ù…Ù† ÙƒØ§Ù† Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± ÙÙŠ Ø§Ù„Ù‚Ø±Ù† Ø§Ù„ØªØ§Ø³Ø¹ Ø¹Ø´Ø±ØŸ"},options:["Wilhelm I","Friedrich II","Napoleon","Otto"],answer:"Wilhelm I"},
{q:{de:"Was war die Weimarer Republik?",en:"What was the Weimar Republic?",ar:"Ù…Ø§ Ù‡ÙŠ Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© ÙØ§ÙŠÙ…Ø§Ø±ØŸ"},options:["Republik","KÃ¶nigreich","Diktatur","FÃ¼rstentum"],answer:"Republik"},
{q:{de:"Wann endete der 1. Weltkrieg?",en:"When did WWI end?",ar:"Ù…ØªÙ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŸ"},options:["1918","1914","1939","1920"],answer:"1918"},
{q:{de:"Wer schrieb 'Mein Kampf'?",en:"Who wrote 'Mein Kampf'?",ar:"Ù…Ù† ÙƒØªØ¨ ÙƒØªØ§Ø¨ 'ÙƒÙØ§Ø­ÙŠ'ØŸ"},options:["Adolf Hitler","Goebbels","Bismarck","Hesse"],answer:"Adolf Hitler"},
{q:{de:"Wann begann die NS-Zeit?",en:"When did the Nazi era begin?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£Øª Ø§Ù„Ø­Ù‚Ø¨Ø© Ø§Ù„Ù†Ø§Ø²ÙŠØ©ØŸ"},options:["1933","1920","1945","1919"],answer:"1933"},
{q:{de:"Wer war der letzte Kaiser Deutschlands?",en:"Who was the last German emperor?",ar:"Ù…Ù† ÙƒØ§Ù† Ø¢Ø®Ø± Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± Ø£Ù„Ù…Ø§Ù†ÙŠØŸ"},options:["Wilhelm II","Wilhelm I","Friedrich III","Otto"],answer:"Wilhelm II"}]},

"Wissenschaft":{"Physik":[
{q:{de:"Wer entwickelte die RelativitÃ¤tstheorie?",en:"Who developed relativity?",ar:"Ù…Ù† Ø·ÙˆØ± Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ©ØŸ"},options:["Einstein","Newton","Tesla","Galileo"],answer:"Einstein"},
{q:{de:"Was beschreibt E=mcÂ²?",en:"What does E=mcÂ² describe?",ar:"Ù…Ø§Ø°Ø§ ØªØµÙ E=mcÂ²ØŸ"},options:["Masse-Energie","Kraft","Geschwindigkeit","Temperatur"],answer:"Masse-Energie"},
{q:{de:"Wer entdeckte die Gravitation?",en:"Who discovered gravity?",ar:"Ù…Ù† Ø§ÙƒØªØ´Ù Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©ØŸ"},options:["Newton","Einstein","Galileo","Tesla"],answer:"Newton"},
{q:{de:"Was ist Lichtgeschwindigkeit?",en:"What is light speed?",ar:"Ù…Ø§ Ù‡ÙŠ Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ÙˆØ¡ØŸ"},options:["299792458 m/s","150000000 m/s","300000 km/s","500000 m/s"],answer:"299792458 m/s"},
{q:{de:"Was ist ein Photon?",en:"What is a photon?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙÙˆØªÙˆÙ†ØŸ"},options:["Teilchen des Lichts","Atom","MolekÃ¼l","Elektron"],answer:"Teilchen des Lichts"},
{q:{de:"Was ist Quantenmechanik?",en:"What is quantum mechanics?",ar:"Ù…Ø§ Ù‡ÙŠ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ Ø§Ù„ÙƒÙ…ØŸ"},options:["Physik der kleinen Teilchen","Chemie","Biologie","Astronomie"],answer:"Physik der kleinen Teilchen"},
{q:{de:"Wer entdeckte Elektronen?",en:"Who discovered electrons?",ar:"Ù…Ù† Ø§ÙƒØªØ´Ù Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†Ø§ØªØŸ"},options:["Thomson","Einstein","Newton","Faraday"],answer:"Thomson"},
{q:{de:"Was beschreibt Ohmsches Gesetz?",en:"What describes Ohm's law?",ar:"Ù…Ø§Ø°Ø§ ÙŠØµÙ Ù‚Ø§Ù†ÙˆÙ† Ø£ÙˆÙ…ØŸ"},options:["Spannung-Strom-Widerstand","Kraft","Energie","Masse"],answer:"Spannung-Strom-Widerstand"},
{q:{de:"Wer ist bekannt fÃ¼r die Gesetze der Bewegung?",en:"Known for laws of motion?",ar:"Ù…Ù† Ù…Ø¹Ø±ÙˆÙ Ø¨Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø­Ø±ÙƒØ©ØŸ"},options:["Newton","Einstein","Galileo","Tesla"],answer:"Newton"},
{q:{de:"Was ist Kernfusion?",en:"What is nuclear fusion?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ù†ØµÙ‡Ø§Ø± Ø§Ù„Ù†ÙˆÙˆÙŠØŸ"},options:["Verschmelzen von Atomkernen","Spaltung von Atomen","Chemische Reaktion","Elektrische Energie"],answer:"Verschmelzen von Atomkernen"}]},

"Sport":{"FuÃŸball":[
{q:{de:"Wer gewann die WM 2014?",en:"Who won the 2014 World Cup?",ar:"Ù…Ù† ÙØ§Ø² Ø¨ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2014ØŸ"},options:["Deutschland","Argentinien","Brasilien","Spanien"],answer:"Deutschland"},
{q:{de:"Wie viele Spieler sind auf dem Feld?",en:"How many players on field?",ar:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ Ø§Ù„Ù…Ù„Ø¹Ø¨ØŸ"},options:["11","10","9","12"],answer:"11"},
{q:{de:"Wer ist Messi?",en:"Who is Messi?",ar:"Ù…Ù† Ù‡Ùˆ Ù…ÙŠØ³ÙŠØŸ"},options:["FuÃŸballspieler","Basketballspieler","Tennisspieler","Leichtathlet"],answer:"FuÃŸballspieler"},
{q:{de:"Wer gewann die UEFA Champions League 2020?",en:"Who won UCL 2020?",ar:"Ù…Ù† ÙØ§Ø² Ø¨Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ 2020ØŸ"},options:["Bayern","Liverpool","Real Madrid","Barcelona"],answer:"Bayern"},
{q:{de:"Wie lang ist ein FuÃŸballfeld?",en:"How long is a football field?",ar:"Ù…Ø§ Ø·ÙˆÙ„ Ù…Ù„Ø¹Ø¨ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ"},options:["100-110m","90-100m","80-90m","120m"],answer:"100-110m"},
{q:{de:"Wie viele Tore schieÃŸt man fÃ¼r einen Sieg?",en:"How many goals for a win?",ar:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ù„Ù„ÙÙˆØ²ØŸ"},options:["Mehr als der Gegner","1","2","3"],answer:"Mehr als der Gegner"},
{q:{de:"Wer ist CR7?",en:"Who is CR7?",ar:"Ù…Ù† Ù‡Ùˆ CR7ØŸ"},options:["Cristiano Ronaldo","Messi","Neymar","MbappÃ©"],answer:"Cristiano Ronaldo"},
{q:{de:"Wie viele Minuten dauert ein Spiel?",en:"How long is a match?",ar:"ÙƒÙ… Ù…Ø¯Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©ØŸ"},options:["90","60","120","100"],answer:"90"},
{q:{de:"Welche Nationalmannschaft hat die meisten WM-Titel?",en:"Which country has most World Cups?",ar:"Ø£ÙŠ Ù…Ù†ØªØ®Ø¨ Ù„Ø¯ÙŠÙ‡ Ø£ÙƒØ«Ø± ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ"},options:["Brasilien","Deutschland","Italien","Argentinien"],answer:"Brasilien"},
{q:{de:"Wer gewann die WM 2018?",en:"Who won the 2018 World Cup?",ar:"Ù…Ù† ÙØ§Ø² Ø¨ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2018ØŸ"},options:["Frankreich","Kroatien","Belgien","England"],answer:"Frankreich"}]},

"Musik": {
  "Pop": [
    {q:{de:"Wer ist bekannt als 'King of Pop'?",en:"Who is known as the 'King of Pop'?",ar:"Ù…Ù† ÙŠÙØ¹Ø±Ù Ø¨Ø§Ø³Ù… 'Ù…Ù„Ùƒ Ø§Ù„Ø¨ÙˆØ¨'ØŸ"},options:["Michael Jackson","Elvis Presley","Madonna","Prince"],answer:"Michael Jackson"},
    {q:{de:"Welche Band sang 'Hey Jude'?",en:"Which band sang 'Hey Jude'?",ar:"Ø£ÙŠ ÙØ±Ù‚Ø© ØºÙ†Øª 'Hey Jude'ØŸ"},options:["The Beatles","Queen","The Rolling Stones","Pink Floyd"],answer:"The Beatles"},
    {q:{de:"Wer ist die SÃ¤ngerin von 'Rolling in the Deep'?",en:"Who sings 'Rolling in the Deep'?",ar:"Ù…Ù† ÙŠØºÙ†ÙŠ 'Rolling in the Deep'ØŸ"},options:["Adele","BeyoncÃ©","Taylor Swift","Rihanna"],answer:"Adele"},
    {q:{de:"Welches Instrument hat Freddie Mercury nicht gespielt?",en:"Which instrument did Freddie Mercury not play?",ar:"Ø£ÙŠ Ø¢Ù„Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ© Ù„Ù… ÙŠØ¹Ø²ÙÙ‡Ø§ ÙØ±ÙŠØ¯ÙŠ Ù…ÙŠØ±ÙƒÙˆØ±ÙŠØŸ"},options:["Gitarre","Klavier","Schlagzeug","Bass"],answer:"Schlagzeug"},
    {q:{de:"Welches Land kommt die Band ABBA?",en:"Which country is ABBA from?",ar:"Ù…Ù† Ø£ÙŠ Ø¯ÙˆÙ„Ø© ÙØ±Ù‚Ø© ABBAØŸ"},options:["Schweden","USA","UK","Deutschland"],answer:"Schweden"},
    {q:{de:"Wer komponierte die 'Ode an die Freude'?",en:"Who composed the 'Ode to Joy'?",ar:"Ù…Ù† Ù„Ø­Ù† 'Ode an die Freude'ØŸ"},options:["Beethoven","Mozart","Bach","Chopin"],answer:"Beethoven"},
    {q:{de:"Wer ist bekannt fÃ¼r das Album 'Thriller'?",en:"Who is known for the album 'Thriller'?",ar:"Ù…Ù† Ù…Ø¹Ø±ÙˆÙ Ø¨Ø£Ù„Ø¨ÙˆÙ… 'Thriller'ØŸ"},options:["Michael Jackson","Prince","Elton John","David Bowie"],answer:"Michael Jackson"},
    {q:{de:"Welches Genre gehÃ¶rt zu Bob Marley?",en:"Which genre belongs to Bob Marley?",ar:"Ø£ÙŠ Ù†ÙˆØ¹ Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙŠÙ†ØªÙ…ÙŠ Ø¥Ù„Ù‰ Ø¨ÙˆØ¨ Ù…Ø§Ø±Ù„ÙŠØŸ"},options:["Reggae","Rock","Pop","Jazz"],answer:"Reggae"},
    {q:{de:"Welche Band hat 'Stairway to Heaven'?",en:"Which band has 'Stairway to Heaven'?",ar:"Ø£ÙŠ ÙØ±Ù‚Ø© ØºÙ†Øª 'Stairway to Heaven'ØŸ"},options:["Led Zeppelin","Pink Floyd","Queen","The Doors"],answer:"Led Zeppelin"},
    {q:{de:"Wer ist der LeadsÃ¤nger von U2?",en:"Who is the lead singer of U2?",ar:"Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù…ØºÙ†ÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„ÙØ±Ù‚Ø© U2ØŸ"},options:["Bono","The Edge","Adam Clayton","Larry Mullen Jr."],answer:"Bono"}
  ]
},
"Kunst": {
  "Malerei": [
    {q:{de:"Wer malte die 'Mona Lisa'?",en:"Who painted the 'Mona Lisa'?",ar:"Ù…Ù† Ø±Ø³Ù… Ù„ÙˆØ­Ø© 'Ø§Ù„Ù…ÙˆÙ†Ø§Ù„ÙŠØ²Ø§'ØŸ"},options:["Leonardo da Vinci","Michelangelo","Raphael","Rembrandt"],answer:"Leonardo da Vinci"},
    {q:{de:"Welche Kunstrichtung ist Picasso bekannt?",en:"Which art style is Picasso known for?",ar:"Ù…Ø§ Ù‡Ùˆ Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙÙ† Ø§Ù„Ø°ÙŠ Ø§Ø´ØªÙ‡Ø± Ø¨Ù‡ Ø¨ÙŠÙƒØ§Ø³ÙˆØŸ"},options:["Kubismus","Impressionismus","Surrealismus","Expressionismus"],answer:"Kubismus"},
    {q:{de:"Wer schuf 'Der Schrei'?",en:"Who created 'The Scream'?",ar:"Ù…Ù† Ø±Ø³Ù… Ù„ÙˆØ­Ø© 'Ø§Ù„ØµØ±Ø®Ø©'ØŸ"},options:["Edvard Munch","Van Gogh","Monet","Dali"],answer:"Edvard Munch"},
    {q:{de:"Welche Farbe wurde oft von Van Gogh genutzt?",en:"Which color did Van Gogh often use?",ar:"Ù…Ø§ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø°ÙŠ Ø§Ø³ØªØ®Ø¯Ù…Ù‡ ÙØ§Ù† Ø¬ÙˆØ® ÙƒØ«ÙŠØ±Ù‹Ø§ØŸ"},options:["Gelb","Blau","Rot","GrÃ¼n"],answer:"Gelb"},
    {q:{de:"Wer ist bekannt fÃ¼r 'Die Sternennacht'?",en:"Who is known for 'Starry Night'?",ar:"Ù…Ù† Ù…Ø´Ù‡ÙˆØ± Ø¨Ù„ÙˆØ­Ø© 'Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„Ù…Ø±ØµØ¹Ø© Ø¨Ø§Ù„Ù†Ø¬ÙˆÙ…'ØŸ"},options:["Van Gogh","Picasso","Da Vinci","Monet"],answer:"Van Gogh"},
    {q:{de:"Welche Technik nutzte Leonardo da Vinci oft?",en:"Which technique did Leonardo da Vinci often use?",ar:"Ù…Ø§ Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„ØªÙŠ Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ù„ÙŠÙˆÙ†Ø§Ø±Ø¯Ùˆ Ø¯Ø§ ÙÙŠÙ†Ø´ÙŠ ÙƒØ«ÙŠØ±Ù‹Ø§ØŸ"},options:["Sfumato","Fresco","Aquarell","Ã–lmalerei"],answer:"Sfumato"},
    {q:{de:"Wer war Surrealist?",en:"Who was a Surrealist?",ar:"Ù…Ù† ÙƒØ§Ù† Ø³Ø±ÙŠØ§Ù„ÙŠÙ‹Ø§ØŸ"},options:["Salvador Dali","Rembrandt","Picasso","Van Gogh"],answer:"Salvador Dali"},
    {q:{de:"Welche Farbe dominierte im Impressionismus?",en:"Which color dominated Impressionism?",ar:"Ø£ÙŠ Ù„ÙˆÙ† Ø³Ø§Ø¯ ÙÙŠ Ø§Ù„Ø§Ù†Ø·Ø¨Ø§Ø¹ÙŠØ©ØŸ"},options:["Helle Farben","Dunkle Farben","Schwarz","Braun"],answer:"Helle Farben"},
    {q:{de:"Wer malte die 'Geburt der Venus'?",en:"Who painted 'The Birth of Venus'?",ar:"Ù…Ù† Ø±Ø³Ù… Ù„ÙˆØ­Ø© 'ÙˆÙ„Ø§Ø¯Ø© ÙÙŠÙ†ÙˆØ³'ØŸ"},options:["Sandro Botticelli","Michelangelo","Raphael","Da Vinci"],answer:"Sandro Botticelli"},
    {q:{de:"Was ist Cubismus?",en:"What is Cubism?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØªÙƒØ¹ÙŠØ¨ÙŠØ©ØŸ"},options:["Abstrakter Stil","Realismus","Impressionismus","Expressionismus"],answer:"Abstrakter Stil"}
  ]
},
"Mathematik": {
  "Grundlagen":[
    {q:{de:"Was ist 7+5?",en:"What is 7+5?",ar:"Ù…Ø§ Ù‡Ùˆ 7+5ØŸ"},options:["12","11","13","10"],answer:"12"},
    {q:{de:"Was ist 9*8?",en:"What is 9*8?",ar:"Ù…Ø§ Ù‡Ùˆ 9*8ØŸ"},options:["72","81","64","70"],answer:"72"},
    {q:{de:"Was ist die Quadratwurzel von 64?",en:"What is the square root of 64?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠ Ù„Ù€64ØŸ"},options:["8","6","7","9"],answer:"8"},
    {q:{de:"Was ist 15-7?",en:"What is 15-7?",ar:"Ù…Ø§ Ù‡Ùˆ 15-7ØŸ"},options:["8","7","9","10"],answer:"8"},
    {q:{de:"Was ist 100/25?",en:"What is 100/25?",ar:"Ù…Ø§ Ù‡Ùˆ 100/25ØŸ"},options:["4","5","3","6"],answer:"4"},
    {q:{de:"Was ist 2Â²?",en:"What is 2 squared?",ar:"Ù…Ø§ Ù‡Ùˆ 2Â²ØŸ"},options:["4","2","6","8"],answer:"4"},
    {q:{de:"Was ist 3Â³?",en:"What is 3 cubed?",ar:"Ù…Ø§ Ù‡Ùˆ 3Â³ØŸ"},options:["27","9","6","30"],answer:"27"},
    {q:{de:"Was ist 0*5?",en:"What is 0*5?",ar:"Ù…Ø§ Ù‡Ùˆ 0*5ØŸ"},options:["0","5","1","10"],answer:"0"},
    {q:{de:"Was ist 50+25?",en:"What is 50+25?",ar:"Ù…Ø§ Ù‡Ùˆ 50+25ØŸ"},options:["75","70","65","80"],answer:"75"},
    {q:{de:"Was ist 20-15?",en:"What is 20-15?",ar:"Ù…Ø§ Ù‡Ùˆ 20-15ØŸ"},options:["5","10","4","6"],answer:"5"}
  ]
},
"Technik": {
  "Computer":[
    {q:{de:"Was ist die AbkÃ¼rzung CPU?",en:"What is CPU?",ar:"Ù…Ø§ Ù‡ÙŠ Ø§Ø®ØªØµØ§Ø± CPUØŸ"},options:["Central Processing Unit","Computer Personal Unit","Central Program Unit","Control Processing Unit"],answer:"Central Processing Unit"},
    {q:{de:"Welche Programmiersprache wird fÃ¼r Webseiten genutzt?",en:"Which language is used for websites?",ar:"Ø£ÙŠ Ù„ØºØ© ØªØ³ØªØ®Ø¯Ù… Ù„Ù„Ù…ÙˆØ§Ù‚Ø¹ØŸ"},options:["JavaScript","Python","C++","Java"],answer:"JavaScript"},
    {q:{de:"Was speichert Daten dauerhaft?",en:"What stores data permanently?",ar:"Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ®Ø²Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…ØŸ"},options:["Festplatte","RAM","Cache","CPU"],answer:"Festplatte"},
    {q:{de:"Welches Betriebssystem ist Open Source?",en:"Which OS is open source?",ar:"Ø£ÙŠ Ù†Ø¸Ø§Ù… ØªØ´ØºÙŠÙ„ Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø±ØŸ"},options:["Linux","Windows","MacOS","iOS"],answer:"Linux"},
    {q:{de:"Was ist HTML?",en:"What is HTML?",ar:"Ù…Ø§ Ù‡Ùˆ HTMLØŸ"},options:["Sprache fÃ¼r Webseiten","Programmiersprache","Hardware","Software"],answer:"Sprache fÃ¼r Webseiten"},
    {q:{de:"Was ist ein Algorithmus?",en:"What is an algorithm?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ØŸ"},options:["Schritt-fÃ¼r-Schritt Anweisung","Datei","Hardware","Software"],answer:"Schritt-fÃ¼r-Schritt Anweisung"},
    {q:{de:"Was bedeutet URL?",en:"What does URL mean?",ar:"Ù…Ø§Ø°Ø§ ØªØ¹Ù†ÙŠ URLØŸ"},options:["Uniform Resource Locator","User Resource Link","Universal Reference Location","Unique Resource List"],answer:"Uniform Resource Locator"},
    {q:{de:"Was ist RAM?",en:"What is RAM?",ar:"Ù…Ø§ Ù‡Ùˆ RAMØŸ"},options:["Arbeitsspeicher","Festplatte","Prozessor","Grafikkarte"],answer:"Arbeitsspeicher"},
    {q:{de:"Was ist ein Motherboard?",en:"What is a motherboard?",ar:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ù…ØŸ"},options:["Hauptplatine","Grafikkarte","Prozessor","Monitor"],answer:"Hauptplatine"},
    {q:{de:"Was ist ein Browser?",en:"What is a browser?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…ØªØµÙØ­ØŸ"},options:["Programm zum Surfen im Internet","Hardware","Programmiersprache","Netzwerk"],answer:"Programm zum Surfen im Internet"}
  ]
},
"Politik": {
  "Weltpolitik":[
    {q:{de:"Wer ist PrÃ¤sident der USA 2021?",en:"Who is US President 2021?",ar:"Ù…Ù† Ù‡Ùˆ Ø±Ø¦ÙŠØ³ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø© 2021ØŸ"},options:["Joe Biden","Donald Trump","Barack Obama","George Bush"],answer:"Joe Biden"},
    {q:{de:"Was ist die UN?",en:"What is the UN?",ar:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø©ØŸ"},options:["Vereinte Nationen","EuropÃ¤ische Union","NATO","WHO"],answer:"Vereinte Nationen"},
    {q:{de:"Welche Organisation ist wirtschaftlich?",en:"Which organization is economic?",ar:"Ø£ÙŠ Ù…Ù†Ø¸Ù…Ø© Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©ØŸ"},options:["WTO","UN","WHO","UNICEF"],answer:"WTO"},
    {q:{de:"Wer war Kanzlerin Deutschlands 2005-2021?",en:"Who was chancellor of Germany 2005-2021?",ar:"Ù…Ù† ÙƒØ§Ù† Ù…Ø³ØªØ´Ø§Ø± Ø£Ù„Ù…Ø§Ù†ÙŠØ§ 2005-2021ØŸ"},options:["Angela Merkel","Helmut Kohl","Gerhard SchrÃ¶der","Olaf Scholz"],answer:"Angela Merkel"},
    {q:{de:"Was ist die NATO?",en:"What is NATO?",ar:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù†Ø§ØªÙˆØŸ"},options:["VerteidigungsbÃ¼ndnis","Wirtschaftsbund","ReligiÃ¶se Organisation","Sportverband"],answer:"VerteidigungsbÃ¼ndnis"},
    {q:{de:"Wer ist PrÃ¤sident von Frankreich?",en:"Who is president of France?",ar:"Ù…Ù† Ù‡Ùˆ Ø±Ø¦ÙŠØ³ ÙØ±Ù†Ø³Ø§ØŸ"},options:["Emmanuel Macron","FranÃ§ois Hollande","Nicolas Sarkozy","Jacques Chirac"],answer:"Emmanuel Macron"},
    {q:{de:"Was ist EU?",en:"What is EU?",ar:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠØŸ"},options:["EuropÃ¤ische Union","Vereinte Nationen","NATO","UNESCO"],answer:"EuropÃ¤ische Union"},
    {q:{de:"Welches Land hat die meisten Einwohner?",en:"Which country has the most population?",ar:"Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ù„Ø¯ÙŠÙ‡Ø§ Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø³ÙƒØ§Ù†ØŸ"},options:["China","Indien","USA","Indonesien"],answer:"China"},
    {q:{de:"Wer war US-PrÃ¤sident vor Joe Biden?",en:"Who was US President before Biden?",ar:"Ù…Ù† ÙƒØ§Ù† Ø±Ø¦ÙŠØ³ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø© Ù‚Ø¨Ù„ Ø¨Ø§ÙŠØ¯Ù†ØŸ"},options:["Donald Trump","Barack Obama","George W. Bush","Bill Clinton"],answer:"Donald Trump"},
    {q:{de:"Welches Land ist Mitglied der UN?",en:"Which country is UN member?",ar:"Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ø¹Ø¶Ùˆ ÙÙŠ Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø©ØŸ"},options:["Deutschland","Taiwan","Vatikan","Kosovo"],answer:"Deutschland"}
  ]
},
"Geographie": {
  "LÃ¤nder":[
    {q:{de:"Hauptstadt von Frankreich?",en:"Capital of France?",ar:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ"},options:["Paris","London","Berlin","Rom"],answer:"Paris"},
    {q:{de:"LÃ¤ngster Fluss der Welt?",en:"Longest river?",ar:"Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ"},options:["Nil","Amazonas","Yangtze","Mississippi"],answer:"Nil"},
    {q:{de:"HÃ¶chster Berg der Welt?",en:"Highest mountain?",ar:"Ø£Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ"},options:["Mount Everest","K2","Kilimandscharo","Mont Blanc"],answer:"Mount Everest"},
    {q:{de:"GrÃ¶ÃŸtes Land der Erde?",en:"Largest country?",ar:"Ø£ÙƒØ¨Ø± Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ"},options:["Russland","Kanada","China","USA"],answer:"Russland"},
    {q:{de:"Kleinster Staat der Welt?",en:"Smallest country?",ar:"Ø£ØµØºØ± Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ"},options:["Vatikan","Monaco","Nauru","San Marino"],answer:"Vatikan"},
    {q:{de:"Welche WÃ¼ste ist die grÃ¶ÃŸte?",en:"Which desert is largest?",ar:"Ø£ÙŠ ØµØ­Ø±Ø§Ø¡ Ù‡ÙŠ Ø§Ù„Ø£ÙƒØ¨Ø±ØŸ"},options:["Sahara","Gobi","Kalahari","Arabische WÃ¼ste"],answer:"Sahara"},
    {q:{de:"Welches Land hat die meisten NachbarlÃ¤nder?",en:"Which country has most neighbors?",ar:"Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ù„Ø¯ÙŠÙ‡Ø§ Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¬Ø§ÙˆØ±Ø©ØŸ"},options:["China","Russland","Brasilien","Indien"],answer:"China"},
    {q:{de:"Welches Meer liegt nÃ¶rdlich von Ã„gypten?",en:"Which sea is north of Egypt?",ar:"Ø£ÙŠ Ø¨Ø­Ø± ÙŠÙ‚Ø¹ Ø´Ù…Ø§Ù„ Ù…ØµØ±ØŸ"},options:["Mittelmeer","Rotes Meer","Schwarzes Meer","Arabisches Meer"],answer:"Mittelmeer"},
    {q:{de:"Welcher Kontinent ist am grÃ¶ÃŸten?",en:"Which continent is largest?",ar:"Ø£ÙŠ Ù‚Ø§Ø±Ø© Ù‡ÙŠ Ø§Ù„Ø£ÙƒØ¨Ø±ØŸ"},options:["Asien","Afrika","Europa","Nordamerika"],answer:"Asien"},
    {q:{de:"Welches Land hat die meisten Vulkane?",en:"Which country has most volcanoes?",ar:"Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ù„Ø¯ÙŠÙ‡Ø§ Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø¨Ø±Ø§ÙƒÙŠÙ†ØŸ"},options:["Indonesien","Japan","USA","Italien"],answer:"Indonesien"}
  ]
},
"Biologie": {
  "Menschen":[
    {q:{de:"Wie viele Chromosomen hat der Mensch?",en:"How many chromosomes does a human have?",ar:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØ±ÙˆÙ…ÙˆØ³ÙˆÙ…Ø§Øª Ù„Ø¯Ù‰ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ"},options:["46","44","48","42"],answer:"46"},
    {q:{de:"Was ist das grÃ¶ÃŸte Organ?",en:"What is the largest organ?",ar:"Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ø¹Ø¶ÙˆØŸ"},options:["Haut","Leber","Herz","Gehirn"],answer:"Haut"},
    {q:{de:"Wie viele Herzen hat ein Mensch?",en:"How many hearts does a human have?",ar:"ÙƒÙ… Ù‚Ù„Ø¨ Ù„Ø¯Ù‰ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ"},options:["1","2","3","4"],answer:"1"},
    {q:{de:"Was transportiert Blut?",en:"What carries blood?",ar:"Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙ†Ù‚Ù„ Ø§Ù„Ø¯Ù…ØŸ"},options:["BlutgefÃ¤ÃŸe","Nerven","Muskeln","Lunge"],answer:"BlutgefÃ¤ÃŸe"},
    {q:{de:"Wie viele Sinne hat der Mensch?",en:"How many senses does a human have?",ar:"ÙƒÙ… Ø­Ø§Ø³Ø© Ù„Ø¯Ù‰ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ"},options:["5","4","6","7"],answer:"5"},
    {q:{de:"Was produziert Insulin?",en:"What produces insulin?",ar:"Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙ†ØªØ¬ Ø§Ù„Ø¥Ù†Ø³ÙˆÙ„ÙŠÙ†ØŸ"},options:["BauchspeicheldrÃ¼se","Leber","Niere","Lunge"],answer:"BauchspeicheldrÃ¼se"},
    {q:{de:"Was schÃ¼tzt die Augen?",en:"What protects the eyes?",ar:"Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­Ù…ÙŠ Ø§Ù„Ø¹ÙŠÙˆÙ†ØŸ"},options:["Augenlider","ZÃ¤hne","Ohren","HÃ¤nde"],answer:"Augenlider"},
    {q:{de:"Wie viele Blutgruppen gibt es?",en:"How many blood groups?",ar:"ÙƒÙ… Ø¹Ø¯Ø¯ ÙØµØ§Ø¦Ù„ Ø§Ù„Ø¯Ù…ØŸ"},options:["4","3","5","2"],answer:"4"},
    {q:{de:"Welches Organ pumpt Blut?",en:"Which organ pumps blood?",ar:"Ø£ÙŠ Ø¹Ø¶Ùˆ ÙŠØ¶Ø® Ø§Ù„Ø¯Ù…ØŸ"},options:["Herz","Lunge","Leber","Niere"],answer:"Herz"},
    {q:{de:"Was ist die kleinste Zelle im menschlichen KÃ¶rper?",en:"What is the smallest cell?",ar:"Ù…Ø§ Ù‡ÙŠ Ø£ØµØºØ± Ø®Ù„ÙŠØ© ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ"},options:["Spermium","Eizelle","Neuron","Muskelzelle"],answer:"Spermium"}
  ]
    // Du kannst hier auf gleiche Weise "Musik", "Kunst", "Mathematik", "Technik", "Politik", "Geographie", "Biologie" usw. hinzufÃ¼gen, bis 10 Themen mit 10 Fragen pro Unterthema voll sind

};

// ===== Funktionen Login/Registrierung =====
function getUser(u){return JSON.parse(localStorage.getItem('user_'+u));}
function saveUser(u,d){localStorage.setItem('user_'+u,JSON.stringify(d));}

langButtons.forEach(btn=>btn.addEventListener('click',()=>{currentLang=btn.dataset.lang;renderUI();if(!themeContainer.classList.contains('hidden'))showThemes();}));

function renderUI(){
if(currentLang==='de'){title.textContent='Login / Registrierung';loginBtn.textContent='Login';registerBtn.textContent='Registrieren';logoutBtn.textContent='Logout';themeTitle.textContent='Themen auswÃ¤hlen';quizBackBtn.textContent='ZurÃ¼ck';}
else if(currentLang==='en'){title.textContent='Login / Register';loginBtn.textContent='Login';registerBtn.textContent='Register';logoutBtn.textContent='Logout';themeTitle.textContent='Select Topics';quizBackBtn.textContent='Back';}
else if(currentLang==='ar'){title.textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø§Ù„ØªØ³Ø¬ÙŠÙ„';loginBtn.textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';registerBtn.textContent='ØªØ³Ø¬ÙŠÙ„';logoutBtn.textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬';themeTitle.textContent='Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹';quizBackBtn.textContent='Ø¹ÙˆØ¯Ø©';}
}

registerBtn.addEventListener('click',()=>{
const u=usernameInput.value.trim(); const p=passwordInput.value.trim();
if(!u||!p){loginMsg.textContent=currentLang==='de'?'Bitte ausfÃ¼llen!':currentLang==='en'?'Please fill in!':'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª';return;}
if(getUser(u)){loginMsg.textContent=currentLang==='de'?'Benutzer existiert schon!':currentLang==='en'?'User already exists!':'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„';return;}
saveUser(u,{password:p,coins:0,progress:{}});localStorage.setItem('currentUser',u);currentUser=u;loginMsg.textContent='';showThemes();
});

loginBtn.addEventListener('click',()=>{
const u=usernameInput.value.trim(); const p=passwordInput.value.trim(); const d=getUser(u);
if(!d){loginMsg.textContent=currentLang==='de'?'Benutzer nicht gefunden!':currentLang==='en'?'User not found!':'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯';return;}
if(d.password!==p){loginMsg.textContent=currentLang==='de'?'Falsches Passwort!':currentLang==='en'?'Wrong password!':'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©';return;}
localStorage.setItem('currentUser',u);currentUser=u;loginMsg.textContent='';showThemes();
});

logoutBtn.addEventListener('click',()=>{localStorage.removeItem('currentUser');location.reload();});

// ===== Themenanzeige =====
function showThemes(){
loginContainer.classList.add('hidden');themeContainer.classList.remove('hidden');
const d=getUser(currentUser);coinsSpan.textContent=d.coins;themesDiv.innerHTML='';
for(const t in topics){const div=document.createElement('div');div.className='theme-block';div.textContent=t;div.addEventListener('click',()=>showSubtopics(t));themesDiv.appendChild(div);}
}

function showSubtopics(topic){currentTopic=topic;themesDiv.innerHTML='';for(const sub in topics[topic]){const div=document.createElement('div');div.className='subtheme-block';div.textContent=sub;div.addEventListener('click',()=>startQuiz(sub));themesDiv.appendChild(div);}}

function startQuiz(sub){
currentSubtopic=sub;
const d=getUser(currentUser);
const key=currentTopic+'_'+currentSubtopic;
currentQuizIndex=d.progress[key]||0;
themeContainer.classList.add('hidden');quizContainer.classList.remove('hidden');
quizTopic.textContent=currentTopic+' - '+currentSubtopic;
quizCoins.textContent=d.coins;renderQuiz();
}

function renderQuiz(){
const arr=topics[currentTopic][currentSubtopic];
if(currentQuizIndex>=arr.length){alert(currentLang==='de'?'Quiz beendet! +20 Coins':currentLang==='en'?'Quiz finished! +20 coins':'ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± +20 Ø¹Ù…Ù„Ø§Øª');const d=getUser(currentUser);d.coins+=20;saveUser(currentUser,d);quizCoins.textContent=d.coins;quizContainer.classList.add('hidden');showSubtopics(currentTopic);return;}
const q=arr[currentQuizIndex];let options=[...q.options];options.sort(()=>Math.random()-0.5);quizContent.innerHTML='';
options.forEach(opt=>{const btn=document.createElement('button');btn.className='answer-btn';btn.textContent=opt;
btn.addEventListener('click',()=>{const d=getUser(currentUser);if(opt===q.answer){alert(currentLang==='de'?'Richtig!':currentLang==='en'?'Correct!':'ØµØ­ÙŠØ­!');d.coins+=25;d.progress[currentTopic+'_'+currentSubtopic]=currentQuizIndex+1;saveUser(currentUser,d);quizCoins.textContent=d.coins;currentQuizIndex++;renderQuiz();}else{alert(currentLang==='de'?'Falsch!':currentLang==='en'?'Wrong!':'Ø®Ø·Ø£!');}});quizContent.appendChild(btn);});
const helpBtn=document.createElement('button');helpBtn.textContent=currentLang==='de'?'Hilfe (100 MÃ¼nzen)':'Help (100 coins)';
helpBtn.addEventListener('click',()=>{const d=getUser(currentUser);if(d.coins>=100){d.coins-=100;saveUser(currentUser,d);quizCoins.textContent=d.coins;let removed=0;document.querySelectorAll('.answer-btn').forEach(b=>{if(b.textContent!==q.answer&&removed<2){b.style.display='none';removed++;}});}else{alert(currentLang==='de'?'Nicht genug MÃ¼nzen!':currentLang==='en'?'Not enough coins!':'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Øª ÙƒØ§ÙÙŠØ©!');}});
quizContent.appendChild(helpBtn);
progressFill.style.width=(currentQuizIndex/arr.length*100)+'%';
}

quizBackBtn.addEventListener('click',()=>{quizContainer.classList.add('hidden');showSubtopics(currentTopic);});

if(currentUser) showThemes();renderUI();

});
</script>

</body>
</html>
