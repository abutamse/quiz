<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GroÃŸe Quiz App</title>
<style>
body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin:0; padding:0; background: linear-gradient(to bottom,#6a11cb,#2575fc); display:flex; justify-content:center; align-items:center; min-height:100vh; }
.container { background:white; padding:20px; border-radius:20px; box-shadow:0 10px 25px rgba(0,0,0,0.3); width:95%; max-width:600px; transition: all 0.3s ease; }
h2,h3 { text-align:center; margin:10px 0; color:#333; }
button { width:100%; padding:12px; margin-top:10px; border:none; border-radius:10px; background:#4CAF50; color:white; font-weight:bold; cursor:pointer; font-size:16px; transition: all 0.2s ease; }
button:hover { background:#45a049; transform:scale(1.02); }
.hidden { display:none; }
.theme-block, .subtheme-block, .answer-btn { padding:18px; background:#e2e8f0; margin:10px 0; border-radius:15px; cursor:pointer; text-align:center; font-weight:bold; font-size:18px; transition: all 0.2s ease; }
.theme-block:hover, .subtheme-block:hover, .answer-btn:hover { background:#d1d5db; transform:scale(1.02); }
.flex { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.lang-btn { width:auto; padding:5px 10px; margin:0 5px; font-size:14px; background:#007BFF; color:white; border-radius:5px; cursor:pointer; }
.lang-btn:hover { background:#0056b3; transform:scale(1.05); }
.coin-display { font-weight:bold; background:#ffecb3; padding:5px 10px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.2); }
.progress-bar { width:100%; background:#ddd; border-radius:10px; overflow:hidden; margin-bottom:15px; height:20px; }
.progress-fill { height:100%; background:#4caf50; width:0%; transition: width 0.3s; }
input { width:100%; padding:10px; margin:5px 0; border-radius:10px; border:1px solid #ccc; font-size:16px; }
</style>
</head>
<body>

<div class="container" id="login-container">
    <h2 id="title">Login / Registrierung</h2>
    <input type="text" id="username" placeholder="Benutzername">
    <input type="password" id="password" placeholder="Passwort">
    <button id="login-btn">Login</button>
    <button id="register-btn">Registrieren</button>
    <p id="login-msg" style="color:red; text-align:center;"></p>
</div>

<div class="container hidden" id="theme-container">
    <div class="flex">
        <h2 id="theme-title">Themen auswÃ¤hlen</h2>
        <div class="coin-display">Coins: <span id="coins">0</span>ğŸ’°</div>
    </div>
    <div id="lang-switch">
        <button class="lang-btn" data-lang="de">DE</button>
        <button class="lang-btn" data-lang="en">EN</button>
        <button class="lang-btn" data-lang="ar">AR</button>
    </div>
    <div id="themes"></div>
    <button id="logout-btn" style="background:#f44336;">Logout</button>
</div>

<div class="container hidden" id="quiz-container">
    <div class="flex">
        <h2 id="quiz-topic"></h2>
        <div class="coin-display">Coins: <span id="quiz-coins">0</span>ğŸ’°</div>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
    <div id="quiz-content"></div>
    <button id="quiz-back-btn" style="background:#f44336;">ZurÃ¼ck</button>
</div>
<script>
document.addEventListener('DOMContentLoaded',()=>{
let currentLang='de', currentUser=localStorage.getItem('currentUser');
let currentTopic='', currentSubtopic='', currentQuizIndex=0;

const loginContainer=document.getElementById('login-container');
const themeContainer=document.getElementById('theme-container');
const quizContainer=document.getElementById('quiz-container');
const loginMsg=document.getElementById('login-msg');
const usernameInput=document.getElementById('username');
const passwordInput=document.getElementById('password');
const loginBtn=document.getElementById('login-btn');
const registerBtn=document.getElementById('register-btn');
const logoutBtn=document.getElementById('logout-btn');
const themesDiv=document.getElementById('themes');
const coinsSpan=document.getElementById('coins');
const langButtons=document.querySelectorAll('.lang-btn');
const title=document.getElementById('title');
const themeTitle=document.getElementById('theme-title');
const quizTopic=document.getElementById('quiz-topic');
const quizCoins=document.getElementById('quiz-coins');
const quizContent=document.getElementById('quiz-content');
const progressFill=document.getElementById('progress-fill');
const quizBackBtn=document.getElementById('quiz-back-btn');

// ===== User Funktionen =====
function getUser(u){return JSON.parse(localStorage.getItem('user_'+u));}
function saveUser(u,d){localStorage.setItem('user_'+u,JSON.stringify(d));}

loginBtn.addEventListener('click',()=>{
  const user=getUser(usernameInput.value);
  if(user && user.password===passwordInput.value){
    currentUser=usernameInput.value;
    localStorage.setItem('currentUser',currentUser);
    showThemes();
  }else{
    loginMsg.textContent=currentLang==='de'?"Benutzername oder Passwort falsch":currentLang==='en'?"Username or password wrong":"Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©";
  }
});

registerBtn.addEventListener('click',()=>{
  if(!usernameInput.value || !passwordInput.value){ loginMsg.textContent=currentLang==='de'?"Bitte ausfÃ¼llen":currentLang==='en'?"Please fill in":"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„"; return; }
  if(getUser(usernameInput.value)){ loginMsg.textContent=currentLang==='de'?"Benutzer existiert bereits":currentLang==='en'?"User exists":"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯"; return; }
  saveUser(usernameInput.value,{username:usernameInput.value,password:passwordInput.value,coins:0});
  loginMsg.textContent=currentLang==='de'?"Registriert! Bitte einloggen":currentLang==='en'?"Registered! Please login":"ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„! Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„";
});

logoutBtn.addEventListener('click',()=>{
  currentUser=null;
  localStorage.removeItem('currentUser');
  themeContainer.classList.add('hidden');
  loginContainer.classList.remove('hidden');
});

langButtons.forEach(btn=>btn.addEventListener('click',()=>{currentLang=btn.dataset.lang; renderUI(); if(!themeContainer.classList.contains('hidden')) showThemes();}));
function renderUI(){
if(currentLang==='de'){title.textContent='Login / Registrierung';loginBtn.textContent='Login';registerBtn.textContent='Registrieren';logoutBtn.textContent='Logout';themeTitle.textContent='Themen auswÃ¤hlen';quizBackBtn.textContent='ZurÃ¼ck';}
else if(currentLang==='en'){title.textContent='Login / Register';loginBtn.textContent='Login';registerBtn.textContent='Register';logoutBtn.textContent='Logout';themeTitle.textContent='Select Topics';quizBackBtn.textContent='Back';}
else if(currentLang==='ar'){title.textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø§Ù„ØªØ³Ø¬ÙŠÙ„';loginBtn.textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';registerBtn.textContent='ØªØ³Ø¬ÙŠÙ„';logoutBtn.textContent='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬';themeTitle.textContent='Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹';quizBackBtn.textContent='Ø¹ÙˆØ¯Ø©';}
}
renderUI();
// ===== Quiz Daten =====
const quizData = {
  "Geschichte":{"Deutschland":[
    {q:{de:"Wann begann der 2. Weltkrieg?",en:"When did WWII start?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£ Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ"}, options:["1939","1945","1914","1923"], answer:"1939"},
    {q:{de:"Wer war der erste Bundeskanzler?",en:"Who was the first chancellor?",ar:"Ù…Ù† ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ø£ÙˆÙ„ØŸ"}, options:["Konrad Adenauer","Helmut Kohl","Angela Merkel","Willy Brandt"], answer:"Konrad Adenauer"},
    {q:{de:"Wann wurde die Berliner Mauer gebaut?",en:"When was the Berlin Wall built?",ar:"Ù…ØªÙ‰ Ø¨Ù†ÙŠØª Ø¬Ø¯Ø§Ø± Ø¨Ø±Ù„ÙŠÙ†ØŸ"}, options:["1961","1949","1989","1953"], answer:"1961"},
    {q:{de:"Wann fiel die Mauer?",en:"When did the wall fall?",ar:"Ù…ØªÙ‰ Ø³Ù‚Ø· Ø§Ù„Ø¬Ø¯Ø§Ø±ØŸ"}, options:["1989","1990","1980","1975"], answer:"1989"},
    {q:{de:"Wer war Kaiser im 19. Jahrhundert?",en:"Who was emperor in 19th century?",ar:"Ù…Ù† ÙƒØ§Ù† Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± ÙÙŠ Ø§Ù„Ù‚Ø±Ù† Ø§Ù„ØªØ§Ø³Ø¹ Ø¹Ø´Ø±ØŸ"}, options:["Wilhelm I","Friedrich II","Napoleon","Otto"], answer:"Wilhelm I"},
    {q:{de:"Was war die Weimarer Republik?",en:"What was the Weimar Republic?",ar:"Ù…Ø§ Ù‡ÙŠ Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© ÙØ§ÙŠÙ…Ø§Ø±ØŸ"}, options:["Republik","KÃ¶nigreich","Diktatur","FÃ¼rstentum"], answer:"Republik"},
    {q:{de:"Wann endete der 1. Weltkrieg?",en:"When did WWI end?",ar:"Ù…ØªÙ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŸ"}, options:["1918","1914","1939","1920"], answer:"1918"},
    {q:{de:"Wer schrieb 'Mein Kampf'?",en:"Who wrote 'Mein Kampf'?",ar:"Ù…Ù† ÙƒØªØ¨ ÙƒØªØ§Ø¨ 'ÙƒÙØ§Ø­ÙŠ'ØŸ"}, options:["Adolf Hitler","Goebbels","Bismarck","Hesse"], answer:"Adolf Hitler"},
    {q:{de:"Wann begann die NS-Zeit?",en:"When did the Nazi era begin?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£Øª Ø§Ù„Ø­Ù‚Ø¨Ø© Ø§Ù„Ù†Ø§Ø²ÙŠØ©ØŸ"}, options:["1933","1920","1945","1919"], answer:"1933"},
    {q:{de:"Wer war der letzte Kaiser Deutschlands?",en:"Who was the last German emperor?",ar:"Ù…Ù† ÙƒØ§Ù† Ø¢Ø®Ø± Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± Ø£Ù„Ù…Ø§Ù†ÙŠØŸ"}, options:["Wilhelm II","Wilhelm I","Friedrich III","Otto"], answer:"Wilhelm II"},
    {q:{de:"Wann wurde das Grundgesetz verabschiedet?",en:"When was the Basic Law adopted?",ar:"Ù…ØªÙ‰ ØªÙ… ØªØ¨Ù†ÙŠ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØŸ"}, options:["1949","1933","1955","1961"], answer:"1949"},
    {q:{de:"Wer war Angela Merkel?",en:"Who is Angela Merkel?",ar:"Ù…Ù† Ù‡ÙŠ Ø£Ù†Ø¬ÙŠÙ„Ø§ Ù…ÙŠØ±ÙƒÙ„ØŸ"}, options:["Bundeskanzlerin","BundesprÃ¤sidentin","Ministerin","BÃ¼rgermeisterin"], answer:"Bundeskanzlerin"},
    {q:{de:"Wann war der DreiÃŸigjÃ¤hrige Krieg?",en:"When was the Thirty Years' War?",ar:"Ù…ØªÙ‰ ÙƒØ§Ù†Øª Ø­Ø±Ø¨ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠÙ† Ø³Ù†Ø©ØŸ"}, options:["1618-1648","1700-1720","1800-1830","1914-1918"], answer:"1618-1648"},
    {q:{de:"Wer war Karl Marx?",en:"Who was Karl Marx?",ar:"Ù…Ù† Ù‡Ùˆ ÙƒØ§Ø±Ù„ Ù…Ø§Ø±ÙƒØ³ØŸ"}, options:["Philosoph und Ã–konom","Kaiser","KÃ¶nig","Malerei"], answer:"Philosoph und Ã–konom"},
    {q:{de:"Wann war die Weimarer Republik?",en:"When was the Weimar Republic?",ar:"Ù…ØªÙ‰ ÙƒØ§Ù†Øª Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© ÙØ§ÙŠÙ…Ø§Ø±ØŸ"}, options:["1919-1933","1933-1945","1800-1850","1949-1990"], answer:"1919-1933"},
    {q:{de:"Wer fÃ¼hrte die deutsche Einheit herbei?",en:"Who led German reunification?",ar:"Ù…Ù† Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ ØªÙˆØ­ÙŠØ¯ Ø£Ù„Ù…Ø§Ù†ÙŠØ§ØŸ"}, options:["Helmut Kohl","Angela Merkel","Otto von Bismarck","Adolf Hitler"], answer:"Helmut Kohl"},
    {q:{de:"Wann begann der Kalte Krieg?",en:"When did the Cold War start?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£ Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¨Ø§Ø±Ø¯Ø©ØŸ"}, options:["1947","1939","1950","1961"], answer:"1947"},
    {q:{de:"Wer war Friedrich der GroÃŸe?",en:"Who was Frederick the Great?",ar:"Ù…Ù† ÙƒØ§Ù† ÙØ±ÙŠØ¯Ø±ÙŠÙƒ Ø§Ù„Ø¹Ø¸ÙŠÙ…ØŸ"}, options:["PreuÃŸischer KÃ¶nig","Deutscher Kaiser","RÃ¶mischer Kaiser","Englischer KÃ¶nig"], answer:"PreuÃŸischer KÃ¶nig"},
    {q:{de:"Wann begann die Industrialisierung in Deutschland?",en:"When did industrialization start in Germany?",ar:"Ù…ØªÙ‰ Ø¨Ø¯Ø£Øª Ø§Ù„ØµÙ†Ø§Ø¹Ø© ÙÙŠ Ø£Ù„Ù…Ø§Ù†ÙŠØ§ØŸ"}, options:["19. Jahrhundert","18. Jahrhundert","20. Jahrhundert","17. Jahrhundert"], answer:"19. Jahrhundert"},
    {q:{de:"Wer war Martin Luther?",en:"Who was Martin Luther?",ar:"Ù…Ù† ÙƒØ§Ù† Ù…Ø§Ø±ØªÙ† Ù„ÙˆØ«Ø±ØŸ"}, options:["Reformator","KÃ¶nig","Kaiser","Maler"], answer:"Reformator"}
  ]},
  "Wissenschaft": {"Physik":[
    {q:{de:"Wer entwickelte die RelativitÃ¤tstheorie?",en:"Who developed relativity?",ar:"Ù…Ù† Ø·ÙˆØ± Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ©ØŸ"}, options:["Einstein","Newton","Tesla","Galileo"], answer:"Einstein"},
    {q:{de:"Was beschreibt E=mcÂ²?",en:"What does E=mcÂ² describe?",ar:"Ù…Ø§Ø°Ø§ ØªØµÙ E=mcÂ²ØŸ"}, options:["Masse-Energie","Kraft","Geschwindigkeit","Temperatur"], answer:"Masse-Energie"},
    {q:{de:"Wer entdeckte die Gravitation?",en:"Who discovered gravity?",ar:"Ù…Ù† Ø§ÙƒØªØ´Ù Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©ØŸ"}, options:["Newton","Einstein","Galileo","Tesla"], answer:"Newton"},
    {q:{de:"Was ist Lichtgeschwindigkeit?",en:"What is light speed?",ar:"Ù…Ø§ Ù‡ÙŠ Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ÙˆØ¡ØŸ"}, options:["299792458 m/s","150000000 m/s","300000 km/s","500000 m/s"], answer:"299792458 m/s"},
    {q:{de:"Was ist ein Photon?",en:"What is a photon?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙÙˆØªÙˆÙ†ØŸ"}, options:["Teilchen des Lichts","Atom","MolekÃ¼l","Elektron"], answer:"Teilchen des Lichts"},
    {q:{de:"Was ist Quantenmechanik?",en:"What is quantum mechanics?",ar:"Ù…Ø§ Ù‡ÙŠ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ Ø§Ù„ÙƒÙ…ØŸ"}, options:["Physik der kleinen Teilchen","Chemie","Biologie","Astronomie"], answer:"Physik der kleinen Teilikel"},
    {q:{de:"Wer entdeckte Elektronen?",en:"Who discovered electrons?",ar:"Ù…Ù† Ø§ÙƒØªØ´Ù Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†Ø§ØªØŸ"}, options:["Thomson","Einstein","Newton","Faraday"], answer:"Thomson"},
    {q:{de:"Was beschreibt Ohmsches Gesetz?",en:"What describes Ohm's law?",ar:"Ù…Ø§Ø°Ø§ ÙŠØµÙ Ù‚Ø§Ù†ÙˆÙ† Ø£ÙˆÙ…ØŸ"}, options:["Spannung-Strom-Widerstand","Kraft","Energie","Masse"], answer:"Spannung-Strom-Widerstand"},
    {q:{de:"Wer ist bekannt fÃ¼r die Gesetze der Bewegung?",en:"Known for laws of motion?",ar:"Ù…Ù† Ù…Ø¹Ø±ÙˆÙ Ø¨Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø­Ø±ÙƒØ©ØŸ"}, options:["Newton","Einstein","Galileo","Tesla"], answer:"Newton"},
    {q:{de:"Was ist Kernfusion?",en:"What is nuclear fusion?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ù†ØµÙ‡Ø§Ø± Ø§Ù„Ù†ÙˆÙˆÙŠØŸ"}, options:["Verschmelzen von Atomkernen","Spaltung von Atomen","Chemische Reaktion","Elektrische Energie"], answer:"Verschmelzen von Atomkernen"}
  ]},
  "Mathematik":{"Grundlagen":[
    {q:{de:"Was ist 7+5?",en:"What is 7+5?",ar:"Ù…Ø§ Ù‡Ùˆ 7+5ØŸ"}, options:["12","11","13","10"], answer:"12"},
    {q:{de:"Was ist 9*8?",en:"What is 9*8?",ar:"Ù…Ø§ Ù‡Ùˆ 9*8ØŸ"}, options:["72","81","64","70"], answer:"72"},
    {q:{de:"Was ist die Quadratwurzel von 64?",en:"What is the square root of 64?",ar:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠ Ù„Ù€64ØŸ"}, options:["8","6","7","9"], answer:"8"},
    {q:{de:"Was ist 15-7?",en:"What is 15-7?",ar:"Ù…Ø§ Ù‡Ùˆ 15-7ØŸ"}, options:["8","7","9","10"], answer:"8"},
    {q:{de:"Was ist 100/25?",en:"What is 100/25?",ar:"Ù…Ø§ Ù‡Ùˆ 100/25ØŸ"}, options:["4","5","3","6"], answer:"4"},
    {q:{de:"Was ist 2Â²?",en:"What is 2 squared?",ar:"Ù…Ø§ Ù‡Ùˆ 2Â²ØŸ"}, options:["4","2","6","8"], answer:"4"},
    {q:{de:"Was ist 3Â³?",en:"What is 3 cubed?",ar:"Ù…Ø§ Ù‡Ùˆ 3Â³ØŸ"}, options:["27","9","18","30"], answer:"27"},
    {q:{de:"Was ist 10% von 200?",en:"What is 10% of 200?",ar:"Ù…Ø§ Ù‡Ùˆ 10Ùª Ù…Ù† 200ØŸ"}, options:["20","10","30","25"], answer:"20"},
    {q:{de:"Was ist 5+7*2?",en:"What is 5+7*2?",ar:"Ù…Ø§ Ù‡Ùˆ 5+7*2ØŸ"}, options:["19","24","17","20"], answer:"19"},
    {q:{de:"Was ist 50-8*5?",en:"What is 50-8*5?",ar:"Ù…Ø§ Ù‡Ùˆ 50-8*5ØŸ"}, options:["10","20","15","12"], answer:"10"}
  ]}
  // Weitere Themen mit 20 Fragen pro Thema folgen analog...
};
</script>
<script>
// ===== App Funktionen =====
function showThemes(){
    loginContainer.classList.add('hidden');
    themeContainer.classList.remove('hidden');
    const user=getUser(currentUser);
    coinsSpan.textContent=user.coins;
    themesDiv.innerHTML='';
    for(const topic in quizData){
        const themeBlock=document.createElement('div');
        themeBlock.className='theme-block';
        themeBlock.textContent=topic;
        themeBlock.addEventListener('click',()=>{
            currentTopic=topic;
            showSubtopics(topic);
        });
        themesDiv.appendChild(themeBlock);
    }
}

function showSubtopics(topic){
    const subtopics=quizData[topic];
    themesDiv.innerHTML='';
    for(const sub in subtopics){
        const subBlock=document.createElement('div');
        subBlock.className='subtheme-block';
        subBlock.textContent=sub;
        subBlock.addEventListener('click',()=>{
            currentSubtopic=sub;
            currentQuizIndex=0;
            showQuizQuestion();
        });
        themesDiv.appendChild(subBlock);
    }
}

function showQuizQuestion(){
    themeContainer.classList.add('hidden');
    quizContainer.classList.remove('hidden');
    const user=getUser(currentUser);
    quizCoins.textContent=user.coins;
    const questions=quizData[currentTopic][currentSubtopic];
    if(currentQuizIndex>=questions.length){
        alert(currentLang==='de'?"Quiz beendet!":"en"?"Quiz finished!":"Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!");
        quizContainer.classList.add('hidden');
        themeContainer.classList.remove('hidden');
        coinsSpan.textContent=user.coins;
        return;
    }
    const q=questions[currentQuizIndex];
    quizTopic.textContent=currentLang==='de'?q.q.de:currentLang==='en'?q.q.en:q.q.ar;
    progressFill.style.width=((currentQuizIndex)/questions.length*100)+'%';
    quizContent.innerHTML='';
    q.options.forEach(opt=>{
        const btn=document.createElement('button');
        btn.className='answer-btn';
        btn.textContent=opt;
        btn.addEventListener('click',()=>{
            if(opt===q.answer){
                user.coins+=10; // Richtige Antwort +10 Coins
            }
            saveUser(currentUser,user);
            currentQuizIndex++;
            showQuizQuestion();
        });
        quizContent.appendChild(btn);
    });
}

quizBackBtn.addEventListener('click',()=>{
    quizContainer.classList.add('hidden');
    themeContainer.classList.remove('hidden');
    const user=getUser(currentUser);
    coinsSpan.textContent=user.coins;
});
</script>
</body>
</html>
